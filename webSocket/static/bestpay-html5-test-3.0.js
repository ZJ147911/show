var yzf=function(n){"use strict";function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e(n)}var i,t=function(n){return"function"==typeof n},a=function(n){return"string"==typeof n},o=function(){return i||(i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})};function r(n,e,i){Object.defineProperty(n,i,{get:function(){return"function"!=typeof e[i]?e[i]:function(){try{return e[i].apply(this,arguments)}catch(n){console.warn(n)}}},enumerable:!0,configurable:!0})}function c(){var n=o();return n.BestpayHtml5=n.BestpayHtml5||{},n.BestpayHtml5}function u(){var n=window.location.hostname;/^192\./.test(n)||/^172\.(1[6-9]|2[0-9]|3[0-1])/.test(n),/bestpay\.net$/.test(n)||/yipay\.ctdns\.net$/.test(n);return/bestpay\.com\.cn$/.test(n),!0}var l=function(n,e){};function s(n){for(var e=n+"=",i=document.cookie.split("; "),t=0;t<i.length;t++){var a=i[t];if(0===a.indexOf(e))return unescape(a.substring(e.length,a.length))}return!1}function p(n,e,i){var t="";if(0!==(i||0)){var a=new Date;a.setTime(a.getTime()+1e3*i),t="; expires="+a.toGMTString()}document.cookie=n+"="+escape(e)+t+";"}function d(n){var e={},i=/([^?&=]+)=([^?&=]*)/g;try{return(n=n||window.location.href||"").split("?").slice(1).map((function(n){n.replace(i,(function(n,i,t){var a=decodeURIComponent(i),o=decodeURIComponent(t);return o=String(o),e[a]=o.split("#")[0],n}))})),e}catch(n){return{}}}var m=/iP(ad|hone|od)/.test(navigator.userAgent);function f(){return!!("undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&-1<window.navigator.userAgent.indexOf("mPaaSClient"))}function g(n){window.AlipayJSBridge?n&&n():document.addEventListener("AlipayJSBridgeReady",n,!1)}var y=o(),_=c(),h=0,w=1,v=2,S=f(),A={idCounter:0,INPUT_CMDS:{},INPUT_ARGS:{},OUTPUT_RESULTS:{},DEVICE_IS_IOS:m,RESULT_CODE:!1,backEvent:null,topBarClickEvent:null,CALL_STATUS:{SUCCESS:0,FAIL:1,CANCEL:2},deviceOcr:!1,CALLBACK_SUCCESS:function(n){},CALLBACK_FAIL:function(n){},CALLBACK_CANCEL:function(n){},callNative:function(n,i,t,a,o){var r="ID_"+ ++this.idCounter;if("function"==typeof t&&(this.CALLBACK_SUCCESS[r]=t),"function"==typeof a&&(this.CALLBACK_FAIL[r]=a),"function"==typeof o&&(this.CALLBACK_CANCEL[r]=o),this.INPUT_CMDS[r]=n,this.INPUT_ARGS[r]=i,!S){if(this.DEVICE_IS_IOS)"3.0"==_.HYBRID_VERSION&&window.webkit.messageHandlers.BestpaySendToNative.postMessage({handlerID:r,cmd:n,params:i});else if("websdk/1.0"==window.navigator.userAgent.toLowerCase().match(/websdk\/1.0/i)&&"3.0"==_.HYBRID_VERSION){var c={callbackId:r,cmd:n,args:i},u=JSON.stringify(c);window.fly.postMessage(u)}else window.nintf.setCmds(n,r),window.nintf.setArgs(i,r);var l=document.createElement("IFRAME");return l.setAttribute("src","bestpayhtml://ready?id="+r),document.documentElement.appendChild(l),l.parentNode.removeChild(l),l=null,this.RESULT_CODE=-1,this.OUTPUT_RESULTS[r]}!function(n,i,t,a,o){var r,c,u;try{var l=JSON.parse(n);r=l.service,c=l.action,u=i&&JSON.parse(i)}catch(n){console.warn("[callNative]: parser params error")}if(!r||!c)return void console.warn("[callNative]: module or method not exist");var s="".concat(r,"_").concat(c);g((function(){AlipayJSBridge.call(s,u,(function(n){"object"===e(n)?n.code==h?t(n.data):n.code==w?a(n.data):n.code==v?o(n.data):null!=n.error&&a(n):console.warn("[AlipayJSBridge] call result is not object")}))}))}(n,i,t,a,o)},callNativeSync:function(n,e,i){var t={service:n,action:e};if(this.DEVICE_IS_IOS){var a=this.callNative(JSON.stringify(t),JSON.stringify(i)),o={};try{var r=(o=JSON.parse(a)).status;return c=o.message}catch(n){return console.error(n.message),null}}else{a=prompt(JSON.stringify(t),JSON.stringify(i)),o={};try{o=JSON.parse(a)}catch(n){console.error(n.message)}r=o.status;var c=o.message;if(0==r)return c;console.error("service:"+n+" action:"+e+" error:"+c)}},getInputCmd:function(n){return this.INPUT_CMDS[n]},getInputArgs:function(n){return this.INPUT_ARGS[n]},callBackJs:function(n,i){var t=A;t.OUTPUT_RESULTS[i]=n;try{var a="object"==e(n)?n:JSON.parse(n)}catch(n){return void t.CALLBACK_FAIL[i](n.message)}var o=a.message&&a.message.cardValidity?a.message.cardValidity:null;t.deviceOcr&&o&&(a.message.cardValidity=o.indexOf(".")>-1?o.replace(/\./g,""):o);var r=a.message,c=a.status;t.RESULT_CODE=c,c==t.CALL_STATUS.SUCCESS?"function"==typeof t.CALLBACK_SUCCESS[i]&&t.CALLBACK_SUCCESS[i](r):c==t.CALL_STATUS.FAIL?"function"==typeof t.CALLBACK_FAIL[i]&&t.CALLBACK_FAIL[i](r):c==t.CALL_STATUS.CANCEL&&"function"==typeof t.CALLBACK_CANCEL[i]&&t.CALLBACK_CANCEL[i](r),delete t.INPUT_ARGS[i],delete t.INPUT_ARGS[i],delete t.CALLBACK_SUCCESS[i],delete t.CALLBACK_FAIL[i],delete t.CALLBACK_CANCEL[i],delete t.OUTPUT_RESULTS[i]},init:function(){this.topBarClickEvent=this.getEvent("topBarClick"),"2.0"==_.HYBRID_VERSION&&(_.INPUT_CMDS=this.INPUT_CMDS,_.INPUT_ARGS=this.INPUT_ARGS,_.getInputCmd=this.getInputCmd,_.getInputArgs=this.getInputArgs,_.CALLBACK_SUCCESS=this.CALLBACK_SUCCESS,_.CALLBACK_FAIL=this.CALLBACK_FAIL,_.CALLBACK_CANCEL=this.CALLBACK_CANCEL,_.fireEvent=this.fireEvent,_.backEvent=this.backEvent,_.topBarClickEvent=this.topBarClickEvent,_.callBackJs=this.callBackJs,window.APP=window.App={onKeyEvent:function(n){"function"==typeof APP.listener?APP.listener(n):window[APP.listener](n)},setKeyEventListener:function(n){APP.listener=n},listener:null})},getEvent:function(n,e,i){var t=document.createEvent("CustomEvent");return t.initCustomEvent(n,e,i,{}),t},fireEvent:function(n){try{document.dispatchEvent(n)}catch(n){}}};y.BestpayReceiveFromNative=function(n){"string"==typeof n?y[n]&&y[n]():A.callBackJs(n.resultData,n.handlerID)};var x={NativeExecute:A,callBackJs:A.callBackJs,exec_asyn:function(n,e,i,t,a,o){var r={service:n,action:e};"orangefinance"==window.navigator.userAgent.toLowerCase().match(/orangefinance/i)&&i.type&&"idCard"===i.type?A.deviceOcr=!0:A.deviceOcr=!1,A.callNative(JSON.stringify(r),JSON.stringify(i),t,a,o)}};var B=c(),b={App:function(){B.callBackJs=x.NativeExecute.callBackJs,x.NativeExecute.init()},Weixin:function(){window.createdUrl=null,window.loginUrl=window.h5Url+"/subapps/h5login/index.html#/LoginIndex?isFrame=true&parentUrl="+encodeURI(window.location.host),window.authUrl=window.h5Url+"/subapps/misc-h5/auth/index.html#/dialog?isFrame=true&parentUrl="+encodeURI(window.location.host);var n="";B.__config__.appType&&B.__config__.subAppType&&(n="&appType="+B.__config__.appType+"&subAppType="+B.__config__.subAppType,window.loginUrl+=n,window.authUrl+=n),window.getQueryVal=d;var e=location.href.indexOf("?")>-1?window.getQueryVal():null;window.bestPayAuth=e&&e.bestPayCode&&e.bestPayType?e:null,window.setCookie=p,window.getCookie=s,window.setCookie("H5loginAuth","true",7776e4);if(B.__config__.getWxJsSDKConfig){B.Util.loadJs({id:"wxScript",url:"https://res.wx.qq.com/open/js/jweixin-1.0.0.js"},(function(){var n={requestUrl:window.location.href,traceLogId:"",agreeId:window.agreeId};B.Util.httpRequests("post",window.mapiUrl+"/gapi/wireless/weixin/weixinService/getJsSDKConfig",n,(function(n){wx.config({debug:B.__config__.debug,appId:n.result.appId,timestamp:n.result.timestamp,nonceStr:n.result.nonceStr,signature:n.result.signature,jsApiList:["closeWindow","chooseImage","onMenuShareAppMessage","onMenuShareTimeline","onMenuShareQQ","onMenuShareQZone"],openTagList:["wx-open-launch-weapp","wx-open-launch-app"]})}),(function(n){}))}))}if(!window.getCookie("BestpayCookieAuth")&&!0===/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)&&!0!==B.__config__.wxSwitch){window.setCookie("BestpayCookieAuth","true",7776e4);var i=document.createElement("div");i.onclick=function(){window.location.href=window.capiUrl+"/strongPayAuth.html"},setTimeout((function(){i.click()}),1500)}window.addEventListener("message",(function(n){var e=n.data;if(e.cmd&&e.param)switch(e.cmd){case"loginSuccess":"h5login_index"===e.channel?window.history.back():"h5login_registerSuccess"===e.channel?window.history.go(-7):("h5login_ocrSuccess"===e.channel||"h5login_registerWithoutOCR"===e.channel)&&window.history.go(-4),B.Iframe.removeIframe(e.domId);var i={preName:"BestpayHtml5_",key:"sessionKey",value:{sessionKey:e.param.sessionKey}};window.setCookie("_random_id",e.param.bestpayId,7776e3),B.Storage.setValue(i);var t={preName:"BestpayHtml5_",key:"userInfo",value:e.param};B.Storage.setValue(t),setTimeout((function(){!0===e.success?(t.sessionKey=e.param.sessionKey,window.loginSuccessCallback(t)):window.loginFailCallback()}),1);break;case"onPayCompleted":B.Iframe.removeIframe(e.domId),"0"===e.param.resultCode?(window.history.go(-2),setTimeout((function(){window.payCancelCallback(e.param)}),200)):"1"===e.param.resultCode?(window.history.go(-3),setTimeout((function(){window.payFailCallback(e.param)}),200)):(window.history.go(-3),setTimeout((function(){window.paySuccessCallback(e.param)}),200));break;case"nativeViewCallback":if(B.Iframe.removeIframe(e.domId),!0===e.success){if("addBankCard_tieCardSuccess"===e.channel){window.history.go(-4);var a={preName:"BestpayHtml5_",key:"sessionKey",value:{sessionKey:e.param.sessionKey}};window.setCookie("_random_id",e.param.bestpayId,7776e3),B.Storage.setValue(a);var o={preName:"BestpayHtml5_",key:"userInfo",value:e.param};B.Storage.setValue(o)}else window.history.go(-e.param.backStep);window.nativeViewSucessCallback(e.param)}else e.param.backStep?window.history.go(-e.param.backStep):window.history.go(-1),window.nativeViewFailCallback(e.param);break;case"authComplete":B.Iframe.removeIframe(e.domId),setTimeout((function(){!0===e.success?(!1===/(UCWEB|UBrowser|UCBrowser)/i.test(navigator.userAgent)&&window.history.go(-1),window.authSuccessCallback(e.param)):(!1===/(UCWEB|UBrowser|UCBrowser)/i.test(navigator.userAgent)&&window.history.go(-1),window.authCancelCallback(e.param))}),1);break;case"authShowIframe":document.getElementById(e.domId).height=e.height;break;case"idOCRComplete":B.Iframe.removeIframe(e.domId);break;case"ocrCallback":B.Iframe.removeIframe(e.domId),!0===e.success?(window.history.go(-e.backStep),window.ocrSuccessCallback(e.param)):"photograph_session_invalid"===e.channel?(window.history.go(-1),window.ocrFailCallback(e.param)):"photograph_cancel"===e.channel&&(window.history.go(-1),window.ocrCancelCallback(e.param))}}),!1)},Browser:function(){window.createdUrl=null,window.loginUrl=window.h5Url+"/subapps/h5login/index.html#/LoginIndex?isFrame=true&parentUrl="+encodeURI(window.location.host),window.authUrl=window.h5Url+"/subapps/misc-h5/auth/index.html#/dialog?isFrame=true&parentUrl="+encodeURI(window.location.host);var n="";B.__config__.appType&&B.__config__.subAppType&&(n="&appType="+B.__config__.appType+"&subAppType="+B.__config__.subAppType,window.loginUrl+=n,window.authUrl+=n),window.getQueryVal=d;var e=location.href.indexOf("?")>-1?window.getQueryVal():null;if(window.bestPayAuth=e&&e.bestPayCode&&e.bestPayType?e:null,window.setCookie=p,window.getCookie=s,window.setCookie("H5loginAuth","true",7776e4),!window.getCookie("BestpayCookieAuth")&&!0===/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)&&!0!==B.__config__.wxSwitch){window.setCookie("BestpayCookieAuth","true",7776e4);var i=document.createElement("div");i.onclick=function(){window.location.href=window.capiUrl+"/strongPayAuth.html"},setTimeout((function(){i.click()}),1500)}window.addEventListener("message",(function(n){var e=n.data;if(e.cmd&&e.param)switch(e.cmd){case"loginSuccess":"h5login_index"===e.channel?window.history.back():"h5login_registerSuccess"===e.channel?window.history.go(-7):("h5login_ocrSuccess"===e.channel||"h5login_registerWithoutOCR"===e.channel)&&window.history.go(-4),B.Iframe.removeIframe(e.domId);var i={preName:"BestpayHtml5_",key:"sessionKey",value:{sessionKey:e.param.sessionKey}};window.setCookie("_random_id",e.param.bestpayId,7776e3),B.Storage.setValue(i);var t={preName:"BestpayHtml5_",key:"userInfo",value:e.param};B.Storage.setValue(t),setTimeout((function(){!0===e.success?(t.sessionKey=e.param.sessionKey,window.loginSuccessCallback(t)):window.loginFailCallback()}),1);break;case"onPayCompleted":B.Iframe.removeIframe(e.domId),"0"===e.param.resultCode?(window.history.go(-2),setTimeout((function(){window.payCancelCallback(e.param)}),200)):"1"===e.param.resultCode?(window.history.go(-3),setTimeout((function(){window.payFailCallback(e.param)}),200)):(window.history.go(-3),setTimeout((function(){window.paySuccessCallback(e.param)}),200));break;case"nativeViewCallback":if(B.Iframe.removeIframe(e.domId),!0===e.success){if("addBankCard_tieCardSuccess"===e.channel){window.history.go(-4);var a={preName:"BestpayHtml5_",key:"sessionKey",value:{sessionKey:e.param.sessionKey}};window.setCookie("_random_id",e.param.bestpayId,7776e3),B.Storage.setValue(a);var o={preName:"BestpayHtml5_",key:"userInfo",value:e.param};B.Storage.setValue(o)}else window.history.go(-e.param.backStep);window.nativeViewSucessCallback(e.param)}else e.param.backStep?window.history.go(-e.param.backStep):window.history.go(-1),window.nativeViewFailCallback(e.param);break;case"authComplete":B.Iframe.removeIframe(e.domId),setTimeout((function(){!0===e.success?(!1===/(UCWEB|UBrowser|UCBrowser)/i.test(navigator.userAgent)&&window.history.go(-1),window.authSuccessCallback(e.param)):(!1===/(UCWEB|UBrowser|UCBrowser)/i.test(navigator.userAgent)&&window.history.go(-1),window.authCancelCallback(e.param))}),1);break;case"authShowIframe":document.getElementById(e.domId).height=e.height;break;case"idOCRComplete":B.Iframe.removeIframe(e.domId),window._idOcrSuccessCb({state:"success"});break;case"ocrCallback":B.Iframe.removeIframe(e.domId),!0===e.success?(window.history.go(-e.backStep),window.ocrSuccessCallback(e.param)):"photograph_session_invalid"===e.channel?(window.history.go(-1),window.ocrFailCallback(e.param)):"photograph_cancel"===e.channel&&(window.history.go(-1),window.ocrCancelCallback(e.param))}}),!1)}},C=c(),I=function(n){return function(e,i,t,a){var o=C.ENV;if(!u()&&"App"!=o)return!1;"2.0"==C.HYBRID_VERSION&&n.run[o].degradeRun?n.run[o].degradeRun.apply(this,arguments):n.run[o].run.apply(this,arguments)}},N=c();var E={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:N.__config__.appid||"",channel:"User",element_name:"getProductNo"}),x.exec_asyn("User","getProductNo",n,e,i,t)},degradeRun:function(n,e,i,t){e({productNo:x.NativeExecute.callNativeSync("User","getProduct",{})})}},Weixin:{initial:function(){},run:function(n,e,i,t){k(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){k(n,e,i)}}}};function k(n,e,i,t){N.Storage.getValue({preName:"BestpayHtml5",key:"_userInfo"},(function t(a){if(a){var o={productNo:a.value.productNo};e(o)}else i&&i({}),n.noAutoLogin||["CtApp","CtClient"].includes(function(){var n=navigator.userAgent,e="";return"CtApp"==n.match(/CtApp/i)?e="CtApp":"CtClient"==n.match(/CtClient/i)&&(e="CtClient"),e}())||N.User.autoLogin({},t)}))}var R=c(),P={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:R.__config__.appid||"",channel:"User",element_name:"getRegion"}),x.exec_asyn("User","getRegion",{},e,i,t)},degradeRun:function(n,e,i,t){var a=x.NativeExecute.callNativeSync("User","getClientInfo",{});e(/iP(ad|hone|od)/.test(navigator.userAgent)?{region:a.location}:{region:JSON.parse(a).location})}},Weixin:{initial:function(){},run:function(n,e,i,t){U(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){U(n,e,i)}}}};function U(n,e,i,t){R.Storage.getValue({preName:"BestpayHtml5",key:"_userInfo"},(function t(a){if(a){var o={region:a.value.region};e(o)}else i&&i({}),n.noAutoLogin||R.User.autoLogin({},t)}))}var T=c();var L={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:T.__config__.appid||"",channel:"User",element_name:"getSessionKey"}),x.exec_asyn("User","getSessionKey",{},e,i,t)},degradeRun:function(n,e,i,t){e({sessionKey:x.NativeExecute.callNativeSync("App","getSessionKey",{})})}},Weixin:{initial:function(){},run:function(n,e,i,t){W(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){W(n,e,i)}}}};function W(n,e,i,t){T.Storage.getValue({preName:"BestpayHtml5",key:"_sessionKey"},(function t(a){if(a){var o={sessionKey:a.value.sessionKey};e(o)}else i&&i({}),n.noAutoLogin||["CtApp","CtClient"].includes(function(){var n=navigator.userAgent,e="";return"CtApp"==n.match(/CtApp/i)?e="CtApp":"CtClient"==n.match(/CtClient/i)&&(e="CtClient"),e}())||T.User.autoLogin({},t)}))}var V=c(),D={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:V.__config__.appid||"",channel:"User",element_name:"getStarLevel"}),x.exec_asyn("User","getStarLevel",{},e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){O(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){O(n,e,i)}}}};function O(n,e,i,t){V.Storage.getValue({preName:"BestpayHtml5",key:"_userInfo"},(function t(a){if(a){var o={starLevel:a.value.starLevel};e(o)}else i&&i({}),n.noAutoLogin||V.User.autoLogin({},t)}))}var K=c(),F={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:K.__config__.appid||"",channel:"User",element_name:"getName"}),x.exec_asyn("User","getName",{},e,i,t)},degradeRun:function(n,e,i,t){var a=x.NativeExecute.callNativeSync("User","getClientInfo",{});e(/iP(ad|hone|od)/.test(navigator.userAgent)?{name:a.userName}:{name:JSON.parse(a).userName})}},Weixin:{initial:function(){},run:function(n,e,i,t){M(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){M(n,e,i)}}}};function M(n,e,i,t){K.Storage.getValue({preName:"BestpayHtml5",key:"_userInfo"},(function t(a){if(a){var o={name:a.value.name};e(o)}else i&&i({}),n.noAutoLogin||K.User.autoLogin({},t)}))}var H=c(),J={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:H.__config__.appid||"",channel:"User",element_name:"getSex"}),x.exec_asyn("User","getSex",{},e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){z(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){z(n,e,i)}}}};function z(n,e,i,t){H.Storage.getValue({preName:"BestpayHtml5",key:"_userInfo"},(function t(a){if(a){var o={sex:a.value.sex};e(o)}else i&&i({}),n.noAutoLogin||H.User.autoLogin({},t)}))}var j=c(),q={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:j.__config__.appid||"",channel:"User",element_name:"getNickname"}),x.exec_asyn("User","getNickname",{},e,i,t)},degradeRun:function(n,e,i,t){var a=x.NativeExecute.callNativeSync("User","getClientInfo",{});e(/iP(ad|hone|od)/.test(navigator.userAgent)?{nickName:a.nickName}:{nickName:JSON.parse(a).nickName})}},Weixin:{initial:function(){},run:function(n,e,i,t){G(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){G(n,e,i)}}}};function G(n,e,i,t){j.Storage.getValue({preName:"BestpayHtml5",key:"_userInfo"},(function t(a){if(a){var o={nickName:a.value.nickName};e(o)}else i&&i({}),n.noAutoLogin||j.User.autoLogin({},t)}))}var Q=c(),Y={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Q.__config__.appid||"",channel:"User",element_name:"getRealNameStatus"}),x.exec_asyn("User","getRealNameStatus",{},e,i,t)},degradeRun:function(n,e,i,t){var a=x.NativeExecute.callNativeSync("User","getClientInfo",{});e(/iP(ad|hone|od)/.test(navigator.userAgent)?{realNameStatus:a.realNameStatus}:{realNameStatus:JSON.parse(a).realNameStatus})}},Weixin:{initial:function(){},run:function(n,e,i,t){X(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){X(n,e,i)}}}};function X(n,e,i,t){Q.Storage.getValue({preName:"BestpayHtml5",key:"_userInfo"},(function t(a){if(a){var o={realNameStatus:a.value.realNameStatus};e(o)}else i&&i({}),n.noAutoLogin||Q.User.autoLogin({},t)}))}var Z=c(),$={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Z.__config__.appid||"",channel:"User",element_name:"getAvatar"}),x.exec_asyn("User","getAvatar",{},e,i,t)},degradeRun:function(n,e,i,t){var a=x.NativeExecute.callNativeSync("User","getClientInfo",{});e(/iP(ad|hone|od)/.test(navigator.userAgent)?{avatar:a.headPhotoURL}:{avatar:JSON.parse(a).headPhotoURL})}},Weixin:{initial:function(){},run:function(n,e,i,t){nn(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){nn(n,e,i)}}}};function nn(n,e,i,t){Z.Storage.getValue({preName:"BestpayHtml5",key:"_userInfo"},(function t(a){if(a){var o={avatar:a.value.avatar};e(o)}else i&&i({}),n.noAutoLogin||Z.User.autoLogin({},t)}))}var en=c(),tn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:en.__config__.appid||"",channel:"User",element_name:"getOperator"}),x.exec_asyn("User","getOperator",{},e,i,t)},degradeRun:function(n,e,i,t){var a=x.NativeExecute.callNativeSync("User","getClientInfo",{});e(/iP(ad|hone|od)/.test(navigator.userAgent)?{operator:a.operatorType}:{operator:JSON.parse(a).operatorType})}},Weixin:{initial:function(){},run:function(n,e,i,t){an(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){an(n,e,i)}}}};function an(n,e,i,t){en.Storage.getValue({preName:"BestpayHtml5",key:"_userInfo"},(function t(a){if(a){var o={operator:a.value.operator};e(o)}else i&&i({}),n.noAutoLogin||en.User.autoLogin({},t)}))}var on=c(),rn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:on.__config__.appid||"",channel:"User",element_name:"getOpenID"}),""!==n.clientId?x.exec_asyn("User","getOpenID",n,e,i,t):alert("第三方应用编号不能为空")}},Weixin:{initial:function(){},run:function(n,e,i,t){cn(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){cn(n,e,i)}}}};function cn(n,e,i,t){on.Storage.getValue({preName:"BestpayHtml5",key:"_userInfo"},(function t(a){if(a){var o={openId:a.value.openId};e(o)}else i&&i({}),n.noAutoLogin||on.User.autoLogin({},t)}))}var un=o(),ln=c(),sn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:ln.__config__.appid||"",channel:"User",element_name:"autoLogin"}),x.exec_asyn("User","autoLogin",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("App","autoLogin",{productNo:"",location:""},(function(n){e({sessionKey:n})}),i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){pn(n,e,i,t)}},Browser:{initial:function(){},run:function(n,e,i,t){pn(n,e,i,t)}}}};function pn(n,e,i,t){var a,o=document.documentElement.style.fontSize,r=document.documentElement.getAttribute("data-dpr"),c=navigator.userAgent.toLowerCase();a=/iphone|ipad|ipod/.test(c)?"ios":"android",["CtApp","CtClient"].includes(dn())?function(n,e,i,t){var a="";"CtApp"===dn()?a="115":"CtClient"===dn()&&(a="116");if(["CtApp","CtClient"].includes(dn())){var o="";if(mn("partner_token"),n.merchantToken,n.merchantToken)o=n.merchantToken;else if(window.location.href)o=mn("partner_token");if(!o)return void(i&&i({message:"获取token失败",errorCode:"001"}));gn(o,a,e,i,t)}}(n,e,i,t):(n.isIOSHV&&n.phoneNum&&"ios"===a&&n.agreeUrl?window.location.replace(un.loginUrl+"&rechargePhone="+n.phoneNum+"&loginChannel="+n.loginChannel+"&rootDpr="+r+"&loginNotInterceptSwitch="+n.loginNotInterceptSwitch+"&uploadIDCardSwitch="+n.uploadIDCardSwitch+"&backBtnShow="+n.backBtnShow+"&isShowHeader="+n.isShowHeader+"&setPayPasswordSwitch="+n.setPayPasswordSwitch+"&isIOSHV="+n.isIOSHV+"&agreeUrl="+n.agreeUrl+"&merchantToken="+n.merchantToken):n.isIOSHV&&"ios"===a&&n.agreeUrl?window.location.replace(un.loginUrl+"&loginChannel="+n.loginChannel+"&rootDpr="+r+"&loginNotInterceptSwitch="+n.loginNotInterceptSwitch+"&uploadIDCardSwitch="+n.uploadIDCardSwitch+"&backBtnShow="+n.backBtnShow+"&isShowHeader="+n.isShowHeader+"&setPayPasswordSwitch="+n.setPayPasswordSwitch+"&isIOSHV="+n.isIOSHV+"&agreeUrl="+n.agreeUrl+"&merchantToken="+n.merchantToken):n.phoneNum?ln.Iframe.createIframe(un.loginUrl+"&rechargePhone="+n.phoneNum+"&loginChannel="+n.loginChannel+"&rootFontSize="+o+"&rootDpr="+r+"&loginNotInterceptSwitch="+n.loginNotInterceptSwitch+"&uploadIDCardSwitch="+n.uploadIDCardSwitch+"&backBtnShow="+n.backBtnShow+"&isShowHeader="+n.isShowHeader+"&setPayPasswordSwitch="+n.setPayPasswordSwitch+"&merchantToken="+n.merchantToken,"objFrame"):ln.Iframe.createIframe(un.loginUrl+"&loginChannel="+n.loginChannel+"&rootFontSize="+o+"&rootDpr="+r+"&loginNotInterceptSwitch="+n.loginNotInterceptSwitch+"&uploadIDCardSwitch="+n.uploadIDCardSwitch+"&backBtnShow="+n.backBtnShow+"&isShowHeader="+n.isShowHeader+"&setPayPasswordSwitch="+n.setPayPasswordSwitch+"&merchantToken="+n.merchantToken,"objFrame"),un.loginSuccessCallback=e||null,un.loginFailCallback=i||null)}function dn(){var n=navigator.userAgent,e="";return"CtApp"==n.match(/CtApp/i)?e="CtApp":"CtClient"==n.match(/CtClient/i)&&(e="CtClient"),e}function mn(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=new RegExp("(^|&)".concat(e,"=([^&]*)(&|$)"),"i"),a=window.location.search.substr(1).match(t);if(!a){var o=window.location.hash,r=o.split("?");a=r&&r.length>1?r[1].match(t):void 0}if(null!=a)try{n=a[2]}catch(e){n=a[2]}return void 0===n?i:n}function fn(n){n.preventDefault()}function gn(n,e,i,t,a){var o={appType:e,agreeId:un.businessAgreeId,encryptData:n,systemType:"",imei:"",mtMac:"",wifiMac:"",location:""},r={openId:Math.random().toString(36).slice(-10),type:"autoLogin",text:JSON.stringify(o)};ln.Security.securityEncrypt(r,(function(o){o.param,ln.Util.httpRequests("post",un.mapiWeUrl+"/gapi/AppFusionLogin/queryAuthorized",o.param,(function(r){var c={aesKey:o.aesKey,result:r.result};if(r.success)ln.Security.securityDecrypt(c,(function(o){JSON.parse(o);var r=JSON.parse(o);if(r.searchResult){var c={preName:"BestpayHtml5_",key:"sessionKey",value:{sessionKey:r.sessionKey}};ln.Storage.setValue(c);var u={preName:"BestpayHtml5_",key:"userInfo",isNewAuthorized:!1,value:{productNo:r.productNo||null,region:r.region||null,starLevel:r.starLevel||null,name:r.name||null,sex:r.sex||null,nickName:r.nickName||null,realNameStatus:r.realNameStatus||null,avatar:r.avatar||null,operatorNo:r.operatorNo||null,sessionKey:r.sessionKey||null,openId:r.openId||null,authType:"BASE_CODE"}};ln.Storage.setValue(u),u.sessionKey=r.sessionKey,i&&i(u)}else!function(n,e,i,t,a){document.body.addEventListener("touchmove",fn,{passive:!1});var o=document.createElement("div");o.id="anthorizationBox",o.style.cssText="z-index:2000;width:100vw;height:100vh;position:fixed;top:0;";var r=document.createElement("div");r.id="maskBlock",r.style.cssText="position: absolute;height: 100%;width: 100vw;background: #000;opacity: 0.2;z-index:2001;",o.appendChild(r);var c=document.createElement("div");c.id="xyContent",c.style.cssText="position: absolute; bottom:0;border-radius: 6vw 6vw 0 0;box-sizing:border-box;width:100vw;background: #fff;z-index:2022;padding: 6.4vw 5.2vw;",o.appendChild(c);var u=document.createElement("div");u.style.margin="0 auto",u.innerHTML='<div style="display:flex;align-items:center;padding: 0.53vw 0 0.266vw 0;"><img style="width:6.4vw;height:6.4vw;border-radius:100%;min-height:24px;min-width:24px;" src="https://ctcdn.bestpay.cn/html/h5-page/img/login_logo.png"/><span style="padding-left: 2.13vw;font-size: 3.8vw;color:#242424;font-weight:bold;">翼支付<span style="display: inline-block;padding-left:2vw;font-size:3.6vw;font-weight:400;">申请</span></span></div><p style="font-size: 4.8vw;color:#242424;font-weight:bold;margin-top:4.5vw">获取你的手机号</p><p style="margin-top: 2vw;font-size:3.46vw;color: #777777; padding-bottom: 3.8vw;border-bottom: 1px solid #E9E9E9;">登录或注册翼支付账号，使用翼支付各项服务</p>';var l=document.createElement("div");l.style.cssText="color:#808080;position:relative;display:flex;align-items:center;margin-top:4vw;flex-wrap:wrap;";var s=document.createElement("div");s.id="merchantAgreeBox",s.innerText="请先勾选同意",s.style.cssText="display:none;position:absolute;top:-11.64vw;left:-2.24vw;z-index:3000;height:12.64vw;line-height:10.64vw;width:30.4vw;text-align:center;color: #fff;font-size:4vw;font-weight:bold;",s.style.backgroundImage="url(https://ctcdn.bestpay.cn/html/h5-page/img/authorizeToast.png)",s.style.backgroundRepeat="no-repeat",s.style.backgroundSize="100% 100%",l.innerHTML='<img src="https://ctcdn.bestpay.cn/html/h5-page/img/authorizePic.png" id="unAgreeSign" style="width: 4vw;height:4vw;min-height:16px;min-width:16px;margin-right:1.06vw;"/><img src="https://ctcdn.bestpay.cn/html/h5-page/img/authorizeSelectedPic.png" id="agreeSign" style="width: 4vw;height:4vw;min-height:16px;min-width:16px;margin-right:1.06vw;display: none;"/><div style="font-size: 3.23vw;padding-left: 0.16vw;display: flex;">阅读并同意<span  style="color: #485C94;"  id="authorize"">《授权协议》</span><span style="color: #485C94;"  id="servers">《服务协议》</span>和<span style="color: #485C94;"  id="privacy">《隐私权政策》</span></div> ',l.appendChild(s),u.appendChild(l),c.appendChild(u);var p=document.createElement("div");p.style.cssText="display:flex;justify-content:center;align-items:center;margin-bottom:8vw;margin-top:6vw;",window.athorizeRefuse=function(){document.body.removeEventListener("touchmove",fn,{passive:!1}),a&&a({}),document.getElementById("anthorizationBox")&&document.body.removeChild(document.getElementById("anthorizationBox"))},window.athorizeAgree=function(){"none"!==document.getElementById("agreeSign").style.display?(document.body.removeEventListener("touchmove",fn,{passive:!1}),yn(n,e,i,t)):hn()},p.innerHTML='<div style="width:32vw;height:11vw;line-height:11vw;text-align:center;font-size:4.2vw;background:#F2F2F2;color:#4BAC65;border-radius:1.2vw;margin-left:2vw;font-weight:bold;" onclick="athorizeRefuse()">取消</div><div style="width:32vw;height:11vw;line-height:11vw;text-align:center;font-size:4.2vw;background:#58BE6B;color:#FFFFFF;border-radius: 1.2vw;margin-left: 4vw;font-weight:bold;" onclick="athorizeAgree()">允许</div>',c.appendChild(p),document.getElementById("anthorizationBox")?document.getElementById("anthorizationBox").style.display="block":document.body.appendChild(o);document.getElementById("unAgreeSign").onclick=function(){document.getElementById("unAgreeSign").style.display="none",document.getElementById("agreeSign").style.display="inline-block"},document.getElementById("agreeSign").onclick=function(){document.getElementById("agreeSign").style.display="none",document.getElementById("unAgreeSign").style.display="inline-block"},document.getElementById("servers").onclick=function(){_n("服务协议","https://ctcdn.bestpay.cn/u1/mepf/mems/html/must/BIBestpay_agreement.html?isHide=Y",!0)},document.getElementById("privacy").onclick=function(){_n("隐私协议","https://ctcdn.bestpay.cn/html/h5-page/ysxy/bestpay-privacy-policy.html?isHide=Y",!0)},document.getElementById("authorize").onclick=function(){_n("授权协议","https://ctcdn.bestpay.cn/html/h5-page/licenseAgreement.html?isHide=Y",!0)}}(n,e,i,t,a)}));else{var u={};if(u.message=r.errorMsg||"",u.errorCode=r.errorCode,"A99999"===r.errorCode)return void gn(n,e,i,t,a);t&&t(u),document.getElementById("anthorizationBox")&&document.body.removeChild(document.getElementById("anthorizationBox"))}}),(function(n){t&&t({}),document.getElementById("anthorizationBox")&&document.body.removeChild(document.getElementById("anthorizationBox"))}),!0)}))}function yn(n,e,i,t){e="";"CtApp"===dn()?e="115":"CtClient"===dn()&&(e="116");var a={appType:e,agreeId:un.businessAgreeId,encryptData:n,systemType:"",imei:"",mtMac:"",wifiMac:"",location:""},o={openId:Math.random().toString(36).slice(-10),type:"autoLogin",text:JSON.stringify(a)};ln.Security.securityEncrypt(o,(function(a){a.param,ln.Util.httpRequests("post",un.mapiWeUrl+"/gapi/AppFusionLogin/authorizeAndRegister",a.param,(function(o){var r={aesKey:a.aesKey,result:o.result};if(o.success)ln.Security.securityDecrypt(r,(function(n){JSON.parse(n);var e=JSON.parse(n),t={preName:"BestpayHtml5_",key:"sessionKey",value:{sessionKey:e.sessionKey}};ln.Storage.setValue(t);var a={preName:"BestpayHtml5_",key:"userInfo",isNewAuthorized:!0,value:{productNo:e.productNo||null,region:e.region||null,starLevel:e.starLevel||null,name:e.name||null,sex:e.sex||null,nickName:e.nickName||null,realNameStatus:e.realNameStatus||null,avatar:e.avatar||null,operatorNo:e.operatorNo||null,sessionKey:e.sessionKey||null,openId:e.openId||null,authType:"AUTH_CODE"}};ln.Storage.setValue(a),a.sessionKey=e.sessionKey,i&&i(a)})),document.getElementById("anthorizationBox")&&document.body.removeChild(document.getElementById("anthorizationBox"));else{var c={};if(c.message=o.errorMsg,c.errorCode=o.errorCode,"A99999"===o.errorCode)return void yn(n,e,i,t);t&&t(c),document.getElementById("anthorizationBox")&&document.body.removeChild(document.getElementById("anthorizationBox"))}}),(function(n){t&&t({}),document.getElementById("anthorizationBox")&&document.body.removeChild(document.getElementById("anthorizationBox"))}),!0)}))}function _n(n,e,i){i?document.getElementById("xyContent").style.display="none":document.body.removeChild(document.getElementById("dialogContent"));var t=document.createElement("div");t.id="anthorizaIframeBox",t.style.cssText="z-index:2000;background:#fff;width:100vw;border-radius: 6vw 6vw 0 0;height:85.86vw;position:fixed;bottom:0";var a=document.createElement("div");a.style.cssText="margin:2.66vw;padding:1.06vw 2.66vw;font-size:4.8vw;color:#242424;font-weight:bold;display:flex;align-items:center;position:relative;",window.showServer=function(){i?(document.getElementById("xyContent").style.display="block",document.getElementById("anthorizaIframeBox").style.display="none",document.body.removeChild(document.getElementById("anthorizaIframeBox"))):(hn(),document.body.removeChild(document.getElementById("anthorizaIframeBox")))},a.innerHTML='<img src="https://ctcdn.bestpay.cn/html/h5-page/autoLoginBack.png" style="width: 2.4vw;min-height:14px;min-width:12px;height: 4.2vw;float: left;"  onclick="showServer()"/><span style="position:absolute;left: 50%;transform: translateX(-50%);font-size: 4.8vw;font-weight: bold;">'+n+"</span>",t.appendChild(a);var o=document.createElement("iframe");o.frameborder="no",o.style.width="100vw",o.style.height="68vw",o.style.border="0",o.src=e,t.appendChild(o),document.body.appendChild(t)}function hn(){var n=document.createElement("div");n.id="dialogContent",n.style.cssText="position: fixed; bottom:0;box-sizing:border-box;width:100vw;height:100vh;z-index:3000;display:flex;align-items:center;",document.body.appendChild(n);var e=document.createElement("div");e.id="dialogWapperContentBox",e.style.cssText="z-index:8000;width:100vw;height:100vh;background: #000;opacity: 0.7;";var i=document.createElement("div");i.id="dialogWapperBox",i.style.cssText="background:#fff;display:flex;width:80vw;height:44vw;border-radius:3vw;justify-content: center;position: absolute;transform: translate(-50%, -50%);margin-left: 50%;bottom: 28%;z-index:9999;";i.innerHTML='<div style="margin-top:5vw"><div style="text-align:center;font-size: 4.4vw;font-weight:bold;color:#242424;">温馨提示</div><div style="font-size: 3.5vw;display:flex;flex-flow: wrap;padding: 5vw 5vw 4.6vw 5vw;justify-content: center;line-height: 5.6vw;color:#808080;">阅读并同意翼支付<span  style="color: #485C94;"  id="dialogAuthorize"">《授权协议》</span><span style="color: #485C94;"  id="dialogServers">《服务协议》</span>和<span style="color: #485C94;" id="dialogPrivacy">《隐私权政策》</span></div><div style="border-top:1px solid #E9E9E9;height:20vw;display:flex;flex-direction:row;algin-align:center;font-size:3.8vw;text-align:center;"><div id="dialogDisagree" style="width: calc(50% - 1px);height:11.8vw; line-height: 11.8vw;;color:#242424;border-right:1px solid #E9E9E9;">不同意</div><div id="dialogAgree" style="width:50%;color:#58BE6B;height: 11.8vw;line-height: 11.8vw;">同意</div></div></div>',n.appendChild(e),n.appendChild(i),document.getElementById("dialogAgree").onclick=function(){document.body.removeEventListener("touchmove",fn,{passive:!1}),document.getElementById("dialogContent").style.display="none",document.getElementById("dialogWapperBox").style.display="none",document.getElementById("unAgreeSign").style.display="none",document.getElementById("agreeSign").style.display="inline-block",document.body.removeChild(document.getElementById("dialogContent")),document.body.removeChild(document.getElementById("dialogWapperBox"))},document.getElementById("dialogDisagree").onclick=function(){document.body.removeEventListener("touchmove",fn,{passive:!1}),document.getElementById("dialogContent").style.display="none",document.getElementById("dialogWapperBox").style.display="none",document.body.removeChild(document.getElementById("dialogContent")),document.body.removeChild(document.getElementById("dialogWapperBox"))},document.getElementById("dialogServers").onclick=function(){_n("服务协议","https://ctcdn.bestpay.cn/u1/mepf/mems/html/must/BIBestpay_agreement.html?isHide=Y",!1)},document.getElementById("dialogPrivacy").onclick=function(){_n("隐私协议","https://ctcdn.bestpay.cn/html/h5-page/ysxy/bestpay-privacy-policy.html?isHide=Y",!1)},document.getElementById("dialogAuthorize").onclick=function(){_n("授权协议","https://ctcdn.bestpay.cn/html/h5-page/licenseAgreement.html?isHide=Y",!1)}}var wn=c(),vn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:wn.__config__.appid||"",channel:"User",element_name:"getRiskInfo"}),x.exec_asyn("User","getRiskInfo",n,e,i,t)},degradeRun:function(n,e,i,t){e({riskInfo:x.NativeExecute.callNativeSync("App","getCommonRequestParams",{})})}},Weixin:{initial:function(){},run:function(n,e,i,t){e(n)}},Browser:{initial:function(){},run:function(n,e,i,t){e(n)}}}},Sn=c(),An={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Sn.__config__.appid||"",channel:"User",element_name:"getOperatorNo"}),x.exec_asyn("User","getOperatorNo",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){xn(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){xn(n,e,i)}}}};function xn(n,e,i,t){Sn.Storage.getValue({preName:"BestpayHtml5",key:"_userInfo"},(function t(a){if(a){var o={operatorNo:a.value.operatorNo};e(o)}else i&&i({}),n.noAutoLogin||Sn.User.autoLogin({},t)}))}var Bn=o(),bn=c(),Cn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:bn.__config__.appid||"",channel:"User",element_name:"userAuth"}),""!==n.scope?""!==n.clientId?""!==n.merchantCode?""!==n.state?x.exec_asyn("User","userAuth",n,e,i,t):alert("第三方平台参数不能为空"):alert("商户号不能为空"):alert("第三方应用编号不能为空"):alert("授权域不能为空")}},Weixin:{initial:function(){},run:function(n,e,i,t){if(window.bestPayAuth)return""===window.bestPayAuth||"{}"===JSON.stringify(window.bestPayAuth)?void i({}):void e({code:window.bestPayAuth.bestPayCode||n.code,redirectUrl:n.redirectUrl||"",state:n.state||"",grantType:window.bestPayAuth.bestPayType||""});var a=navigator.userAgent.toLowerCase(),o="";if(o=/iphone|ipad|ipod/.test(a)?"ios":"android",!0===n.userAgainLogin&&(localStorage.removeItem("BestpayHtml5_userInfo"),localStorage.removeItem("BestpayHtml5_sessionKey")),n.isIOSHV&&"ios"===o){var r=Bn.authUrl+"&scope="+n.scope+"&clientId="+n.clientId+"&redirectUrl="+n.redirectUrl+"&merchantCode="+n.merchantCode+"&clientName="+n.clientName+"&state="+n.state+"&needCheckPwd="+n.needCheckPwd+"&backBtnShow="+n.backBtnShow+"&userAgainLogin="+n.userAgainLogin+"&channelCode="+n.channelCode+"&isIOSHV="+n.isIOSHV;window.location.replace(r+"&authRedirectUrl="+encodeURIComponent(location.href))}else bn.Iframe.createIframe(Bn.authUrl+"&scope="+n.scope+"&clientId="+n.clientId+"&redirectUrl="+n.redirectUrl+"&merchantCode="+n.merchantCode+"&clientName="+n.clientName+"&state="+n.state+"&needCheckPwd="+n.needCheckPwd+"&backBtnShow="+n.backBtnShow+"&userAgainLogin="+n.userAgainLogin+"&channelCode="+n.channelCode,"authFrame");window.authSuccessCallback=e||null,window.authFailCallback=i||null,window.authCancelCallback=t||null}},Browser:{initial:function(){},run:function(n,e,i,t){var a=navigator.userAgent.toLowerCase(),o="";if(o=/iphone|ipad|ipod/.test(a)?"ios":"android",window.bestPayAuth)return""===window.bestPayAuth||"{}"===JSON.stringify(window.bestPayAuth)?void i({}):void e({code:window.bestPayAuth.bestPayCode||n.code,redirectUrl:n.redirectUrl||"",state:n.state||"",grantType:window.bestPayAuth.bestPayType||""});if(!0===n.userAgainLogin&&(localStorage.removeItem("BestpayHtml5_userInfo"),localStorage.removeItem("BestpayHtml5_sessionKey")),n.isIOSHV&&"ios"===o){var r=Bn.authUrl+"&scope="+n.scope+"&clientId="+n.clientId+"&redirectUrl="+n.redirectUrl+"&merchantCode="+n.merchantCode+"&clientName="+n.clientName+"&state="+n.state+"&needCheckPwd="+n.needCheckPwd+"&backBtnShow="+n.backBtnShow+"&userAgainLogin="+n.userAgainLogin+"&channelCode="+n.channelCode+"&isIOSHV="+n.isIOSHV;window.location.replace(r+"&authRedirectUrl="+encodeURIComponent(location.href))}else bn.Iframe.createIframe(window.authUrl+"&scope="+n.scope+"&clientId="+n.clientId+"&redirectUrl="+n.redirectUrl+"&merchantCode="+n.merchantCode+"&clientName="+n.clientName+"&state="+n.state+"&needCheckPwd="+n.needCheckPwd+"&backBtnShow="+n.backBtnShow+"&userAgainLogin="+n.userAgainLogin+"&channelCode="+n.channelCode,"authFrame");window.authSuccessCallback=e||null,window.authFailCallback=i||null,window.authCancelCallback=t||null}}}},In=c(),Nn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:In.__config__.appid||"",channel:"User",element_name:"getUserInfo"}),x.exec_asyn("User","getUserInfo",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("User","getUserInfo",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},En=c(),kn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:En.__config__.appid||"",channel:"User",element_name:"getAuthenticationStatus"}),x.exec_asyn("User","getAuthenticationStatus",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Rn=c(),Pn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Rn.__config__.appid||"",channel:"User",element_name:"getToken"}),x.exec_asyn("User","getToken",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Un=c(),Tn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Un.__config__.appid||"",channel:"User",element_name:"toggleUser"}),x.exec_asyn("User","toggleUser",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("User","toggleUser",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Ln=c(),Wn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ln.__config__.appid||"",channel:"User",element_name:"getUserLoginStatus"}),x.exec_asyn("User","getUserLoginStatus",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Vn=c(),Dn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Vn.__config__.appid||"",channel:"User",element_name:"getContractNo"}),x.exec_asyn("User","getContractNo",{},e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},On=c(),Kn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:On.__config__.appid||"",channel:"User",element_name:"authenticationInformation"}),x.exec_asyn("User","authenticationInformation",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){Fn(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){Fn(n,e,i)}}}};function Fn(n,e,i,t){On.Storage.getValue({preName:"BestpayHtml5",key:"_userInfo"},(function t(a){if(a){var o={operatorNo:a.value.operatorNo};e(o)}else i&&i({}),n.noAutoLogin||On.User.autoLogin({},t)}))}var Mn=c(),Hn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Mn.__config__.appid||"",channel:"User",element_name:"getCustomerNo"}),x.exec_asyn("User","getCustomerNo",n,e,i,t)},degradeRun:function(n,e,i,t){e({customerNo:x.NativeExecute.callNativeSync("User","getCustomerNo",{})})}},Weixin:{initial:function(){},run:function(){}},Browser:{initial:function(){},run:function(){}}}},Jn=c(),zn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Jn.__config__.appid||"",channel:"User",element_name:"getIpTId"}),x.exec_asyn("User","getIpTId",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},jn=c(),qn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:jn.__config__.appid||"",channel:"User",element_name:"getIpRid"}),x.exec_asyn("User","getIpRid",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Gn={getProductNo:I(E),getRegion:I(P),getSessionKey:I(L),getStarLevel:I(D),getName:I(F),getSex:I(J),getNickname:I(q),getRealNameStatus:I(Y),getAvatar:I($),getOperator:I(tn),getOpenID:I(rn),autoLogin:I(sn),getRiskInfo:I(vn),getOperatorNo:I(An),userAuth:I(Cn),getUserInfo:I(Nn),getAuthenticationStatus:I(kn),getToken:I(Pn),toggleUser:I(Tn),getUserLoginStatus:I(Wn),getContractNo:I(Dn),authenticationInformation:I(Kn),getCustomerNo:I(Hn),getIpTId:I(zn),getIpRid:I(qn)},Qn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(){}},Weixin:{initial:function(){},run:function(n,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(window.createdUrl=window.location.href,"openBrowserFrame"!=e&&"jumpToNativeViewFrame"!=e||!0!==/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent))document.body.style.overflow="hidden";else{document.body.style.overflow="";var t=document.getElementById("app");t&&(t.style.position="fixed",t.style.overflow="hidden")}"payFrame"!=e&&"openBrowserFrame"!=e||document.body.parentElement.getAttribute("data-dpr")&&!i.noZoom&&(document.getElementsByName("viewport")[0].content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"),"objFrame"!=e&&"payFrame"!=e&&"openBrowserFrame"!=e&&"jumpToNativeViewFrame"!=e&&"authFrame"!=e?(document.body.style.position="relative",document.body.style.height=window.innerHeight-(screen.height-window.innerHeight)+"px"):document.body.style.position="relative",history.pushState({},"",window.location.href);var a=document.createElement("iframe");window.scrollTo(0,0),document.body.parentElement.style.overflow="hidden",a.height="100%",a.width="100%",a.src=n,a.id=e,a.style.position="absolute",a.style.top=0,a.style.left=0,a.style.zIndex="1999",a.style.transition="all 0.2s linear",a.style.border="none",a.style.backgroundColor="#fff","authFrame"==e&&(a.height="0",a.style.transition="transform 0.2s linear"),a.setAttribute("bestpayiframe","");var o=document.body;o.childNodes[0]&&!document.getElementById(e)&&o.insertBefore(a,o.childNodes[0])}},Browser:{initial:function(){},run:function(n,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(window.createdUrl=window.location.href,"openBrowserFrame"!=e&&"jumpToNativeViewFrame"!=e&&"ocrFrame"!=e||!0!==/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent))document.body.style.overflow="hidden";else{document.body.style.overflow="";var t=document.getElementById("app");t&&(t.style.position="fixed",t.style.overflow="hidden")}"payFrame"!=e&&"openBrowserFrame"!=e||document.body.parentElement.getAttribute("data-dpr")&&!i.noZoom&&(document.getElementsByName("viewport")[0].content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"),"objFrame"!=e&&"payFrame"!=e&&"openBrowserFrame"!=e&&"jumpToNativeViewFrame"!=e&&"ocrFrame"!=e&&"authFrame"!=e?(document.body.style.position="relative",document.body.style.height=window.innerHeight-(screen.height-window.innerHeight)+"px"):document.body.style.position="relative",history.pushState({},"",window.location.href);var a=document.createElement("iframe");window.scrollTo(0,0),document.body.parentElement.style.overflow="hidden",a.height="100%",a.width="100%",a.src=n,a.id=e,a.style.position="absolute",a.style.top=0,a.style.left=0,a.style.zIndex="1999",a.style.transition="all 0.2s linear",a.style.border="none",a.style.backgroundColor="#fff","authFrame"==e&&(a.height="0",a.style.transition="transform 0.2s linear"),a.setAttribute("bestpayiframe","");var o=document.body;o.childNodes[0]&&!document.getElementById(e)&&o.insertBefore(a,o.childNodes[0])}}}},Yn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(){}},Weixin:{initial:function(){},run:function(n){if(document.getElementById(n)&&document.getElementById(n).parentNode){document.body.parentElement.style.overflow="",document.body.style.overflow="";var e=document.getElementById("app");if(e&&(e.style.position="",e.style.overflow=""),document.body.parentElement.getAttribute("data-dpr")){var i=1/document.body.parentElement.getAttribute("data-dpr");document.getElementsByName("viewport")[0].content="initial-scale=".concat(i,", maximum-scale=").concat(i,", minimum-scale=").concat(i,", user-scalable=no")}document.getElementById("iosDiv")&&document.getElementById("iosDiv").parentElement.removeChild(document.getElementById("iosDiv")),document.body.style.height="100%",document.body.style.position="",document.getElementById(n).style.transform="translateX(100%)",document.getElementById(n).addEventListener("transitionend",(function(){document.getElementById(n).parentNode.removeChild(document.getElementById(n))}),!1)}window.title&&(document.getElementsByTagName("title")[0].text=window.title,window.title=null)}},Browser:{initial:function(){},run:function(n){if(document.getElementById(n)&&document.getElementById(n).parentNode){document.body.parentElement.style.overflow="",document.body.style.overflow="";var e=document.getElementById("app");if(e&&(e.style.position="",e.style.overflow=""),document.body.parentElement.getAttribute("data-dpr")){var i=1/document.body.parentElement.getAttribute("data-dpr");document.getElementsByName("viewport")[0].content="initial-scale=".concat(i,", maximum-scale=").concat(i,", minimum-scale=").concat(i,", user-scalable=no")}document.getElementById("iosDiv")&&document.getElementById("iosDiv").parentElement.removeChild(document.getElementById("iosDiv")),document.body.style.height="100%",document.body.style.position="",document.getElementById(n).style.transform="translateX(100%)",document.getElementById(n).style.webkitTransform="translateX(100%)",document.getElementById(n).addEventListener("transitionend",(function(){document.getElementById(n).parentNode.removeChild(document.getElementById(n))}),!1)}window.title&&(document.getElementsByTagName("title")[0].text=window.title,window.title=null)}}}},Xn={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(){}},Weixin:{initial:function(){},run:function(n){Zn(n)}},Browser:{initial:function(){},run:function(n){Zn(n)}}}};function Zn(n){window.parent.postMessage(n,"*")}var $n={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(){}},Weixin:{initial:function(){},run:function(n){ne()}},Browser:{initial:function(){},run:function(n){ne()}}}};function ne(n){window.addEventListener("message",(function(n){}))}var ee={createIframe:I(Qn),removeIframe:I(Yn),sendPostMessage:I(Xn),onPostMessage:I($n)},ie=c(),te={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:ie.__config__.appid||"",channel:"APP",element_name:"exitSubApp"}),f()?AlipayJSBridge.call("popWindow"):x.exec_asyn("APP","exitSubApp",{},e,i,t)},degradeRun:function(n,e,i,t){x.NativeExecute.callNativeSync("App","exitApp",{})}},Weixin:{initial:function(){},run:function(n,e,i,t){wx.closeWindow(),e&&e({})}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},ae=c(),oe={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:ae.__config__.appid||"",channel:"APP",element_name:"openBrowser"}),x.exec_asyn("APP","openBrowser",n,e,i,t)},degradeRun:function(n,e,i,t){x.NativeExecute.callNativeSync("App","openBrowser",{url:n.url,inBrowser:n.inBrowser})}},Weixin:{initial:function(){},run:function(n,e,i,t){ae.Iframe.createIframe(n.url,"openBrowserFrame",n),window.title=document.getElementsByTagName("title")[0].text,document.getElementsByTagName("title")[0].text=n.title,e&&e({})}},Browser:{initial:function(){},run:function(n,e,i,t){window.open(n.url),e&&e({})}}}},re=c(),ce={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:re.__config__.appid||"",channel:"APP",element_name:"jumpToNativeView"}),x.exec_asyn("APP","jumpToNativeView",n,e,i,t)},degradeRun:function(n,e,i,t){var a,o;switch(n.viewName){case"riseStar":default:a="01";break;case"bindCard":a="03";break;case"recharge":a="04",o=n.args;break;case"withdraw":a="05";break;case"forgetPayPassword":a="07";break;case"forgetLoginPassword":a="08";break;case"login":a="09";break;case"voucher":a="11"}var r={viewNo:a,params:o||{}};x.exec_asyn("App","jumpToNView",r,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){ue(n,e,i,t)}},Browser:{initial:function(){},run:function(n,e,i,t){ue(n,e,i,t)}}}};function ue(n,e,i,t){switch(window.nativeViewSucessCallback=e,window.nativeViewFailCallback=i,window.nativeViewCancelCallback=t,n.viewName){case"riseStar":n.args.usrName&&n.args.cardNo&&n.args.certificateNo?re.Iframe.createIframe(window.h5Url+"/subapps/h5login/index.html#/AddBankCard?isFrame=true&productNo="+n.args.productNo+"&sessionKey="+n.args.sessionKey+"&appType="+n.args.appType+"&subAppType="+n.args.subAppType+"&parentUrl="+encodeURI(window.location.host)+"&usrName="+n.args.usrName+"&cardNo="+n.args.cardNo+"&certificateNo="+n.args.certificateNo,"jumpToNativeViewFrame"):re.Iframe.createIframe(window.h5Url+"/subapps/h5login/index.html#/AddBankCard?isFrame=true&productNo="+n.args.productNo+"&sessionKey="+n.args.sessionKey+"&appType="+n.args.appType+"&subAppType="+n.args.subAppType+"&parentUrl="+encodeURI(window.location.host),"jumpToNativeViewFrame");case"uploadIDCard":re.Iframe.createIframe(window.h5Url+"/subapps/h5login/index.html#/IdPhotoInformation?isFrame=true&productNo="+n.args.productNo+"&sessionKey="+n.args.sessionKey+"&appType="+n.args.appType+"&appId="+n.args.appId+"&subAppType="+n.args.subAppType+"&type="+n.args.type+"&parentUrl="+encodeURI(window.location.host),"jumpToNativeViewFrame")}}var le=c(),se=null,pe=null;var de={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,o){l("unapp_misc",{operator_no:le.__config__.appid||"",channel:"APP",element_name:"setTitleBar"}),f()&&function(n,e,i,o){if(n.title){var r=n.title.text;a(r)&&AlipayJSBridge.call("setTitle",{title:r})}if(n.backgroundColor&&a(n.backgroundColor)){var c="#"==n.backgroundColor.charAt(0)?n.backgroundColor.slice(1):n.backgroundColor;AlipayJSBridge.call("setTitleColor",{color:parseInt(c,16),reset:!1})}if((!n.showTopRightButton||"text"!=n.rightButton.type||n.rightButton.text&&(n.rightButton.text||"").replace(/\s*/g,""))&&(!n.showTopRightButton||"pic"!=n.rightButton.type||n.rightButton.imgUrl&&(n.rightButton.imgUrl||"").replace(/\s*/g,""))||(n.showTopRightButton=!1),n.showTopRightButton&&n.rightButton){var u=n.rightButton,l=u.text,s=u.fontColor,p=u.type,d=u.imgUrl,m={redDot:"-1"};if("text"===p)if(l&&a(l)&&(m.title=l),s&&a(s)){var f="#ff"+(s="#"==s.charAt(0)?s.slice(1):s);m.color=f}else m.color="#ff464646";else if("pic"===p&&d&&a(d))if(d.substr(0,5).indexOf("http")>-1)m.icon=d;else{var g=d.split(",");m.icon=g.length>1?g[1]:g[0]}if(AlipayJSBridge.call("setOptionMenu",m),n.rightButton.onclick){var y=n.rightButton.onclick,_=function(){};a(y)?_=window&&t(window[y])?window[y]:function(){t(window[y])&&window[y]()}:t(y)&&(_=y),document.removeEventListener("optionMenu",pe,!1),pe=function(n){_()},document.addEventListener("optionMenu",pe,!1)}}if("boolean"!=typeof n.showTopRightButton&&n.showTopRightButton||(n.showTopRightButton?AlipayJSBridge.call("showOptionMenu"):AlipayJSBridge.call("hideOptionMenu")),n.backButton)if(n.backButton.override&&n.backButton.onclick){var h=n.backButton.onclick,w=function(){};a(h)?w=window&&t(window[h])?window[h]:function(){t(window[h])&&window[h]()}:t(h)&&(w=h),document.removeEventListener("back",se,!1),se=function(n){n.preventDefault(),setTimeout(w,10)},document.addEventListener("back",se,!1)}else document.removeEventListener("back",se,!1);else document.removeEventListener("back",se,!1);"boolean"==typeof n.isFullScreen&&(n.isFullScreen?AlipayJSBridge.call("hideTitlebar"):AlipayJSBridge.call("showTitlebar"))}(n),x.exec_asyn("APP","setTitleBar",n,e,i,o)},degradeRun:function(n,i,t,a){if(n.hide?x.NativeExecute.callNativeSync("App","setHeaderVisible",{isVisible:!1}):x.NativeExecute.callNativeSync("App","setHeaderVisible",{isVisible:!0}),n.backButton)if(n.backButton.override){var o={bound:n.backButton.override};x.NativeExecute.callNativeSync("App","overrideBackPressed",o),"function"==typeof n.backButton.onclick?APP.setKeyEventListener(n.backButton.onclick):"string"==typeof e(n.backButton.onclick)&&APP.setKeyEventListener(window[n.backButton.onclick])}else{o={bound:!1};x.NativeExecute.callNativeSync("App","overrideBackPressed",o)}if(n.disableCloseButton?x.NativeExecute.callNativeSync("App","setCloseButtonVisible",{isVisible:!1}):x.NativeExecute.callNativeSync("App","setCloseButtonVisible",{isVisible:!0}),n.title&&n.title.text){o={title:n.title.text};x.NativeExecute.callNativeSync("App","setTitle",o)}n.showTopRightButton?("text"==n.rightButton.type?x.NativeExecute.callNativeSync("App","setTopRightBar",{type:"text",value:n.rightButton.text}):"pic"==n.rightButton.type&&x.NativeExecute.callNativeSync("App","setTopRightBar",{type:"pic",value:n.rightButton.imgUrl}),x.NativeExecute.callNativeSync("App","showTopRightBar",{})):x.NativeExecute.callNativeSync("App","hideTopRightBar",{})}},Weixin:{initial:function(){},run:function(n,e,i,t){me(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){me(n,e)}}}};function me(n,e,i,t){n.title&&(document.getElementsByTagName("title")[0].text=n.title.text);if(n.showTopRightButton&&n.rightButton){document.getElementById("bestpayhtml5_topRightBar")&&(window.rightClickBtn&&document.getElementById("bestpayhtml5_topRightBar").removeEventListener("click",window.rightClickBtn),document.getElementById("bestpayhtml5_topRightBar").parentNode.removeChild(document.getElementById("bestpayhtml5_topRightBar")));var a=document.body.firstChild,o=document.createElement("div");switch(o.id="bestpayhtml5_topRightBar",o.style.zIndex="1998",n.rightButton.type){case"text":o.innerHTML="<bottom>"+n.rightButton.text+"</bottom>",o.childNodes[0].style.border="#ff2d55 solid 1px",o.childNodes[0].style.fontSize="0.4rem",o.childNodes[0].style.textAlign="center",o.childNodes[0].style.paddingLeft="0.3rem",o.childNodes[0].style.paddingRight="0.3rem",o.childNodes[0].style.margin="0.133333rem auto",o.childNodes[0].style.color=n.rightButton.fontColor,o.childNodes[0].style.backgroundColor=n.rightButton.backgroundColor;break;case"pic":o.innerHTML="<img src='"+n.rightButton.imgUrl+"'>"}o.childNodes[0].style.borderRadius="2.25rem",o.childNodes[0].style.position="absolute",o.childNodes[0].style.top="0.133333rem",o.childNodes[0].style.right="0.233333rem",o.childNodes[0].style.height="0.75rem",o.childNodes[0].style.lineHeight="0.75rem",o.style.display="block",document.body.insertBefore(o,a),window.rightClickBtn=function(){n.rightButton.onclick()},document.getElementById("bestpayhtml5_topRightBar").addEventListener("click",window.rightClickBtn)}else n.showTopRightButton||document.getElementById("bestpayhtml5_topRightBar")&&(window.rightClickBtn&&document.getElementById("bestpayhtml5_topRightBar").removeEventListener("click",window.rightClickBtn),document.getElementById("bestpayhtml5_topRightBar").parentNode.removeChild(document.getElementById("bestpayhtml5_topRightBar")));n.backButton&&"string"==typeof n.backButton.onclick&&window.addEventListener("popstate",(function(e){for(var i=document.getElementsByTagName("iframe"),t=0;t<=i.length-1;t++)""===i[t].getAttribute("bestpayiframe")&&window.BestpayHtml5.Iframe.removeIframe(i[t].id);setTimeout((function(){window[n.backButton.onclick]()}),1)}),!1),e&&e({})}var fe=c(),ge={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:fe.__config__.appid||"",channel:"APP",element_name:"jumpToSubApp"}),x.exec_asyn("APP","jumpToSubApp",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("App","jumpToApp",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){ye(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){ye(n,e)}}}};function ye(n,e,i,t){fe.Util.httpRequests("post",window.mapiUrl+"/gapi/oneAppInfo",{appId:n.appId,agreeId:window.kjAgreeId},(function(n){var e=n.result.fileURL;fe.Iframe.createIframe(e,"jumpToSubAppFrame")}),(function(n){}),!0),e&&e({})}var _e=c(),he={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:_e.__config__.appid||"",channel:"APP",element_name:"getAppInfo"}),x.exec_asyn("APP","getAppInfo",n,e,i,t)},degradeRun:function(n,e,i,t){var a=/iP(ad|hone|od)/.test(navigator.userAgent),o=x.NativeExecute.callNativeSync("App","getCommonRequestParams",{});if(a)e({wifiMac:o.WIFIMAC,IP:"",systemVersion:o.SYSTEMVERSION,systemType:o.SYSTEM,deviceId:o.AIDENTIFIER,appVersion:o.APPVERSION,deviceName:o.OPERADESC,deviceModel:o.DEVICENAME,appType:o.APPTYPE});else{var r=JSON.parse(o);e({wifiMac:r.WIFIMAC,IP:r.IP,systemVersion:r.SYSTEMVERSION,systemType:r.SYSTEM,deviceId:r.IMEI,appVersion:r.APPVERSION,deviceName:"",deviceModel:r.DEVICENAME,appType:r.APPTYPE})}}},Weixin:{initial:function(){},run:function(n,e,i,t){we(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){we(n,e)}}}};function we(n,e,i,t){var a={wifiMac:"",IP:"",systemVersion:"",systemType:"",deviceId:"",appVersion:"",deviceName:"",deviceModel:"",appType:""};a.bestpayId=window.getCookie("BestpayId"),a.userAgent=navigator.userAgent.substr(navigator.userAgent.length-32),!0===/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?a.systemType="iOS":!1===/(Android)/i.test(navigator.userAgent)&&(a.systemType="Android"),e(a)}var ve=c(),Se={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:ve.__config__.appid||"",channel:"APP",element_name:"openAPP"}),x.exec_asyn("APP","openAPP",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Ae=c(),xe={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ae.__config__.appid||"",channel:"APP",element_name:"checkSharingChannels"}),x.exec_asyn("APP","checkSharingChannels",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Be=c(),be={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Be.__config__.appid||"",channel:"APP",element_name:"firstOpenAPP"}),x.exec_asyn("APP","firstOpenAPP",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Ce=c(),Ie={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ce.__config__.appid||"",channel:"APP",element_name:"authorizationAndGetSteps"}),x.exec_asyn("APP","authorizationAndGetSteps",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Ne=c(),Ee={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ne.__config__.appid||"",channel:"APP",element_name:"jumpToUpdate"}),x.exec_asyn("APP","jumpToUpdate",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},ke=c(),Re={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:ke.__config__.appid||"",channel:"APP",element_name:"exitLogin"}),x.exec_asyn("APP","exitLogin",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Pe=c(),Ue={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Pe.__config__.appid||"",channel:"APP",element_name:"getActionChannel"}),x.exec_asyn("APP","getActionChannel",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Te=c(),Le={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Te.__config__.appid||"",channel:"APP",element_name:"checkBestpayAPP"}),x.exec_asyn("APP","checkBestpayAPP",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},We=c(),Ve={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:We.__config__.appid||"",channel:"APP",element_name:"settleNearby"}),x.exec_asyn("APP","settleNearby",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},De={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){x.exec_asyn("APP","callNativeForFund",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Oe=c(),Ke={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Oe.__config__.appid||"",channel:"APP",element_name:"showSpecialNews"}),x.exec_asyn("APP","showSpecialNews",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Fe=c(),Me={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Fe.__config__.appid||"",channel:"APP",element_name:"checkAppScheme"}),x.exec_asyn("APP","checkAppScheme",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},He=c(),Je={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:He.__config__.appid||"",channel:"APP",element_name:"openSIMDigitalWallet"}),x.exec_asyn("APP","openSIMDigitalWallet",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},ze=c(),je={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:ze.__config__.appid||"",channel:"APP",element_name:"verifyTypeEnc"}),x.exec_asyn("APP","verifyTypeEnc",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},qe=c(),Ge={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:qe.__config__.appid||"",channel:"APP",element_name:"openBindCardModular"}),x.exec_asyn("APP","openBindCardModular",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Qe={exitSubApp:I(te),openBrowser:I(oe),jumpToNativeView:I(ce),setTitleBar:I(de),jumpToSubApp:I(ge),getAppInfo:I(he),checkSharingChannels:I(xe),openAPP:I(Se),firstOpenAPP:I(be),authorizationAndGetSteps:I(Ie),jumpToUpdate:I(Ee),exitLogin:I(Re),getActionChannel:I(Ue),checkBestpayAPP:I(Le),settleNearby:I(Ve),callNativeForFund:I(De),showSpecialNews:I(Ke),checkAppScheme:I(Me),openSIMDigitalWallet:I(Je),verifyTypeEnc:I(je),openBindCardModular:I(Ge)},Ye=c(),Xe={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ye.__config__.appid||"",channel:"LBS",element_name:"getLocation"}),x.exec_asyn("LBS","getLocation",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("LBS","getInfo",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){Ze(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){Ze(n,e,i)}}}};function Ze(n,i,t,a){var o=window;(o.map={},o.geolocation={},o.k=0,o.initMap=function(n,a){if("object"==("undefined"==typeof AMap?"undefined":e(AMap))){var r=function(n){a&&n.addressComponent?(a(n),i&&i(window.locationdata)):t&&t(n.message)},c=function(n){t&&t(n)};o.map=new AMap.Map(n,{resizeEnable:!0}),o.map.plugin("AMap.Geolocation",(function(){o.geolocation=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,maximumAge:0,convert:!0,showButton:!0,buttonPosition:"LB",buttonOffset:new AMap.Pixel(10,20),showMarker:!0,showCircle:!0,panToLocation:!0,zoomToAccuracy:!0}),o.map.addControl(o.geolocation),AMap.event.addListener(o.geolocation,"complete",r),AMap.event.addListener(o.geolocation,"error",c)}))}},o.getCurrentPosition=function(n){void 0!==o.geolocation.getCurrentPosition?o.geolocation.getCurrentPosition():setTimeout((function(){o.getLocalLocation(n)}),200)},o.getLocalLocation=function(e){n.isUpdated?(o.initMap("",(function(n){localStorage.setItem("BestpayHtml5_location",JSON.stringify(n)),e()})),o.getCurrentPosition(e)):localStorage.getItem("BestpayHtml5_location")?(e(),i&&i(window.locationdata)):(o.initMap("",(function(n){localStorage.setItem("BestpayHtml5_location",JSON.stringify(n)),e()})),o.getCurrentPosition(e))},o).getLocalLocation((function(){var n=JSON.parse(localStorage.getItem("BestpayHtml5_location"));if(n.addressComponent){n.addressComponent.city||(n.addressComponent.city=n.addressComponent.province);var e={latitude:n.position.lat,longitude:n.position.lng,address:n.formattedAddress,country:"",province:n.addressComponent.province,city:n.addressComponent.city,district:n.addressComponent.district,citycode:n.addressComponent.citycode,adcode:n.addressComponent.adcode,street:n.addressComponent.street,number:n.addressComponent.streetNumber,POIName:"",AOIName:""};window.locationdata=e}else t&&t()}))}var $e=c(),ni={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:$e.__config__.appid||"",channel:"LBS",element_name:"showMap"}),x.exec_asyn("LBS","showMap",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){ei(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){ei(n,e)}}}};function ei(n,e,i,t){var a=document.createElement("div");a.id="mapWrap",a.style.width="8rem",a.style.height="9rem",a.style.position="fixed",a.style.top="20%",a.style.left="1rem",document.body.appendChild(a);var o=document.createElement("div");o.style.fontSize="0.7rem",o.style.height="1rem",o.innerHTML="X",o.style.float="right",o.onclick=function(){document.getElementById("mapWrap").parentNode.removeChild(document.getElementById("mapWrap"))},document.getElementById("mapWrap").appendChild(o);var r=document.createElement("div");r.id="container",r.style.width="8rem",r.style.height="8rem",document.getElementById("mapWrap").appendChild(r);var c=new AMap.Map("container",{resizeEnable:!0,center:[n.longitude,n.latitude],zoom:16}),u="";c.clearMap(),u=new AMap.Marker({map:c,position:[n.longitude,n.latitude],icon:new AMap.Icon({size:new AMap.Size(100,100),image:"https://cdn.bestpay.cn/html/h5-page/location.png"})}),setTimeout((function(){p.open(c,u.getPosition())}),200);var l=n.title,s=n.subTitle||"",p=new AMap.InfoWindow({isCustom:!0,content:function(n,e){var i=document.createElement("div");if(i.className="info",i.style.position="relative",i.style.top="0.2rem",e){(t=document.createElement("div")).className="info-text",t.style.padding="0.2rem 0.2rem",t.style.border="1px #c7c7c7 solid",t.style.borderRadius="0.16rem",t.style.backgroundColor="white",t.style.fontSize="0.373333rem",t.style.color="#242424",t.innerHTML=n+"<p style='font-size:0.32rem;color:#c4c4c4'>"+e+"</p>",i.appendChild(t)}else{var t;(t=document.createElement("div")).className="info-text",t.style.padding="0.32rem 0.2rem",t.style.border="1px #c7c7c7 solid",t.style.borderRadius="0.16rem",t.style.backgroundColor="white",t.style.fontSize="0.4rem",t.style.color="#242424",t.innerHTML=n,i.appendChild(t)}var a=document.createElement("div");a.className="info-bottom",a.style.position="relative",a.style.index="10",a.style.top="0px",a.style.textAlign="center";var o=document.createElement("img");return o.src="https://cdn.bestpay.cn/html/h5-page/angle.png",o.style.position="absolute",o.style.top="-1px",a.appendChild(o),i.appendChild(a),i}(l,s),offset:new AMap.Pixel(7,-45)});e&&e({})}var ii=c(),ti={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:ii.__config__.appid||"",channel:"LBS",element_name:"openMapAPP"}),x.exec_asyn("LBS","openMapAPP",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},ai=c(),oi={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:ai.__config__.appid||"",channel:"LBS",element_name:"getCoordinate"}),x.exec_asyn("LBS","getCoordinate",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},ri=!1,ci=c();function ui(n){return function(e,i,t,a){var o=arguments,r=this;if("App"==ci.ENV)"2.0"==ci.HYBRID_VERSION&&n.run[ci.ENV].degradeRun?n.run[ci.ENV].degradeRun.apply(this,arguments):n.run[ci.ENV].run.apply(this,arguments);else if(ri)n.run[ci.ENV].run.apply(this,arguments);else{window._AMapSecurityConfig={securityJsCode:"69d451526889348db8c42caf0deca861"};var c={id:"lbsScript",url:"https://webapi.amap.com/maps?v=1.4.15&key=fef8c5e88df6282a5995297bf59928c8"};ci.Util.loadJs(c,(function(){ri=!0,setTimeout((function(){n.run[ci.ENV].run.apply(r,o)}),200)}))}}}var li={getLocation:ui(Xe),showMap:ui(ni),openMapAPP:ui(ti),getCoordinate:ui(oi)},si=c(),pi={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:si.__config__.appid||"",channel:"Payment",element_name:"pay"}),x.exec_asyn("Payment","pay",n,e,i,t)},degradeRun:function(n,e,i,t){var a={params:n};x.exec_asyn("Payment","onPay",a,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){di(n,e,i,t)}},Browser:{initial:function(){},run:function(n,e,i,t){di(n,e,i,t)}}}};function di(n,e,i,t){window.paySuccessCallback=e,window.payFailCallback=i,window.payCancelCallback=t;var a=function(n){var e="";for(var i in n)e+="&"+i+"="+n[i];return e.substr(1)},o="",r="",c=function(){for(var n="",e=0;e<32;e++){n+=Math.floor(10*Math.random())}return n}(),u="",l="",s=window.capiUrl+"/common/interface";si.Util.httpRequests("post",s,{keyIndex:"",encryKey:"",encryStr:"",interCode:"INTER.SYSTEM.001"},(function(e){o=e.result.pubKey,r=e.result.keyIndex;var i={string:c,key:o};si.Security.rsaEncrypt(i,(function(e){l=e.data,si.User.getSessionKey({},(function(e){n.sessionKey=e.sessionKey,si.__config__.appType&&(n.appType=si.__config__.appType),window.getCookie("_random_id")&&(n.bestPayId=window.getCookie("_random_id"));var i={string:a(n),key:c,keyLength:256};si.Security.aesEncrypt(i,(function(n){u=n.data;var e=window.capiUrl+"/gateway.pay"+"?keyIndex="+r+"&encryKey="+l.replace(/\+/g,"%2B")+"&encryStr="+u.replace(/\+/g,"%2B").replace(/\n/g,"")+"&platform=wap_3.0";si.Iframe.createIframe(e,"payFrame")}))}),(function(n){}))}))}),(function(n){}),!1)}var mi=c(),fi={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:mi.__config__.appid||"",channel:"Payment",element_name:"getBalance"}),x.exec_asyn("Payment","getBalance",{},e,i,t)},degradeRun:function(n,e,i,t){var a=x.NativeExecute.callNativeSync("User","getClientInfo",{});/iP(ad|hone|od)/.test(navigator.userAgent)?e({balance:a.balance}):e({balance:JSON.parse(a).balance/100})}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},gi=c(),yi={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:gi.__config__.appid||"",channel:"Payment",element_name:"getFinanceSource"}),x.exec_asyn("Payment","getFinanceSource",n,e,i,t)},degradeRun:function(n,e,i,t){var a={params:n};x.exec_asyn("Payment","getMoneySource",a,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},_i=c(),hi={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:_i.__config__.appid||"",channel:"Payment",element_name:"changeFinanceSource"}),x.exec_asyn("Payment","changeFinanceSource",n,e,i,t)},degradeRun:function(n,e,i,t){var a={params:n};x.exec_asyn("Payment","changeMoneySource",a,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},wi=c(),vi={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:wi.__config__.appid||"",channel:"Payment",element_name:"creditCardPay"}),x.exec_asyn("Payment","creditCardPay",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("Payment","creditCardPay",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Si=c(),Ai={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Si.__config__.appid||"",channel:"Payment",element_name:"paymentResult"}),x.exec_asyn("Payment","paymentResult",n,e,i,t)},degradeRun:function(n,e,i){x.exec_asyn("Payment","paymentResult",n,e,i)}}}},xi=c(),Bi={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:xi.__config__.appid||"",channel:"Payment",element_name:"noSecretPay"}),x.exec_asyn("Payment","noSecretPay",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){e(n)}},Browser:{initial:function(){},run:function(n,e,i,t){e(n)}}}},bi=c(),Ci={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:bi.__config__.appid||"",channel:"Payment",element_name:"payForSimpleCheckout"}),x.exec_asyn("Payment","payForSimpleCheckout",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Ii=c(),Ni={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ii.__config__.appid||"",channel:"Payment",element_name:"getPaymentResult"}),x.exec_asyn("Payment","getPaymentResult",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Ei=c(),ki={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ei.__config__.appid||"",channel:"Payment",element_name:"jumpToView"}),x.exec_asyn("Payment","jumpToView",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Ri=c(),Pi={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ri.__config__.appid||"",channel:"Payment",element_name:"aggregativecashier"}),x.exec_asyn("Payment","aggregativecashier",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Ui=c(),Ti={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ui.__config__.appid||"",channel:"Payment",element_name:"choosePaymentType"}),x.exec_asyn("Payment","choosePaymentType",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Li=c(),Wi={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Li.__config__.appid||"",channel:"Payment",element_name:"initCert"}),x.exec_asyn("Payment","initCert",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Vi=c(),Di={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Vi.__config__.appid||"",channel:"Payment",element_name:"applyCert"}),x.exec_asyn("Payment","applyCert",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Oi=c(),Ki={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Oi.__config__.appid||"",channel:"Payment",element_name:"signaTure"}),x.exec_asyn("Payment","signaTure",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Fi=c(),Mi={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Fi.__config__.appid||"",channel:"Payment",element_name:"openCashierResultPage"}),x.exec_asyn("Payment","openCashierResultPage",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Hi={pay:I(pi),getBalance:I(fi),getFinanceSource:I(yi),changeFinanceSource:I(hi),creditCardPay:I(vi),paymentResult:I(Ai),noSecretPay:I(Bi),payForSimpleCheckout:I(Ci),getPaymentResult:I(Ni),jumpToView:I(ki),aggregativecashier:I(Pi),choosePaymentType:I(Ti),initCert:I(Wi),applyCert:I(Di),signaTure:I(Ki),openCashierResultPage:I(Mi)},Ji=c(),zi={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ji.__config__.appid||"",channel:"Storage",element_name:"getValue"}),x.exec_asyn("Storage","getValue",n,e,i,t)},degradeRun:function(n,e,i,t){var a={key:n.key,defValue:n.value,prefname:n.prefName};e({value:x.NativeExecute.callNativeSync("Preference","get",a)})}},Weixin:{initial:function(){},run:function(n,e,i,t){ji(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){ji(n,e)}}}};function ji(n,e,i,t){try{if(n.key&&localStorage[n.preName+n.key]){var a=JSON.parse(localStorage[n.preName+n.key]),o=new Date;if(a.expiredtime&&new Date(a.expiredtime)<o)localStorage.removeItem(n.preName+n.key),e(null);else if(n.preName+n.key==="BestpayHtml5_sessionKey"){var r={value:a.value};e(r)}else Ji.User.getSessionKey({},(function(n){var i={string:a.value,key:n.data};Ji.Security.aesDecrypt(i,(function(n){e(JSON.parse(n.data))}),(function(n){}))}),(function(){}))}else e(null)}catch(n){}}var qi=c(),Gi={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:qi.__config__.appid||"",channel:"Storage",element_name:"setValue"}),x.exec_asyn("Storage","setValue",n,e,i,t)},degradeRun:function(n,e,i,t){var a={key:n.key,value:n.value,prefname:n.prefName};x.NativeExecute.callNativeSync("Preference","put",a)}},Weixin:{initial:function(){},run:function(n,e,i,t){Qi(n)}},Browser:{initial:function(){},run:function(n,e,i,t){Qi(n)}}}};function Qi(n,e,i,t){try{var a="",o={};n.seconds&&(a=new Date).setTime(a.getTime()+1e3*n.seconds),""===a?(o.value=n.value,o.expiredtime=""):(o.value=n.value,o.expiredtime=a.toString()),n.key&&(n.preName+n.key==="BestpayHtml5_sessionKey"?localStorage.setItem(n.preName+n.key,JSON.stringify(o)):qi.User.getSessionKey({},(function(e){var i={string:JSON.stringify(o),key:e.data,keyLength:256};qi.Security.aesEncrypt(i,(function(e){localStorage.setItem(n.preName+n.key,JSON.stringify({value:e.data.replace(/\n/g,"")}))}))}),(function(n){})))}catch(n){}}var Yi=c(),Xi={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Yi.__config__.appid||"",channel:"Storage",element_name:"deleteValue"}),x.exec_asyn("Storage","deleteValue",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){Zi(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){Zi(n,e,i)}}}};function Zi(n,e,i,t){try{n.preName&&n.key&&localStorage[n.preName+n.key]?(localStorage.removeItem(n.preName+n.key),e({})):i(!1)}catch(n){i(!1)}}var $i=c(),nt={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:$i.__config__.appid||"",channel:"Storage",element_name:"savePicture"}),x.exec_asyn("Storage","savePicture",n,e,i,t)},degradeRun:function(n,e,i,t){var a={base64ImageStream:n};x.exec_asyn("Camera","saveBase64Image",a,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},et=c(),it={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:et.__config__.appid||"",channel:"Storage",element_name:"getInvitationCode"}),x.exec_asyn("Storage","getInvitationCode",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},tt={getValue:I(zi),setValue:I(Gi),deleteValue:I(Xi),savePicture:I(nt),getInvitationCode:I(it)};c();var at={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(){}},Weixin:{initial:function(){},run:function(n,e,i,t,a){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];ot(n,e,i,t,a,o)}},Browser:{initial:function(){},run:function(n,e,i,t,a){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];ot(n,e,i,t,a,o)}}}};function ot(n,e,i,t,a,o){var r;r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var c=function(){if(200===r.status){r.responseText;var n=JSON.parse(r.responseText);t(n)}else{r.responseText;var e={status:r.status,statusText:r.statusText};a(e)}};"post"===(n=n.toLocaleLowerCase())?(r.open("post",e,o),r.setRequestHeader("Content-type","application/json;charset=utf-8"),r.send(JSON.stringify(i))):"get"===n&&(r.open("get",e,o),r.setRequestHeader("Content-type","application/json;charset=utf-8"),r.send(null)),!0===o?r.onreadystatechange=function(){4===r.readyState&&c()}:c()}c();var rt={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(){}},Weixin:{initial:function(){},run:function(n,e,i,t){ct(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){ct(n,e)}}}};function ct(n,e,i,t){var a=document.getElementsByTagName("head")[0],o=document.createElement("script");o.src=n.url,o.type="text/javascript",o.id=n.id,o.onload=function(){e()},a.appendChild(o)}c();var ut={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(){}},Weixin:{initial:function(){},run:function(n,e,i,t){wx.ready((function(){})),wx.error((function(){}))}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},lt={httpRequests:I(at),loadJs:I(rt),wxReady:I(ut)},st=c(),pt={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:st.__config__.appid||"",channel:"Other",element_name:"share"}),x.exec_asyn("Other","share",n,e,i,t)},degradeRun:function(n,e,i,t){var a={viewNo:"06",params:{title:n.title,text:n.text,url:n.imageUrl,download:n.linkUrl}};x.exec_asyn("App","jumpToNView",a,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){switch(n.type){case"weixin":wx.onMenuShareAppMessage({title:n.title,desc:n.text,link:n.linkUrl,imgUrl:n.imageUrl,type:"",dataUrl:"",success:function(){},cancel:function(){}});break;case"weixinTimeline":wx.onMenuShareTimeline({title:n.title,link:n.linkUrl,imgUrl:n.imageUrl,success:function(){},cancel:function(){}});break;case"qqFriend":wx.onMenuShareQQ({title:n.title,desc:n.text,link:n.linkUrl,imgUrl:n.imageUrl,success:function(){},cancel:function(){}});break;case"qZone":wx.onMenuShareQZone({title:n.title,desc:n.text,link:n.linkUrl,imgUrl:n.imageUrl,success:function(){},cancel:function(){}})}e&&e({})}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},dt=c(),mt={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:dt.__config__.appid||"",channel:"Other",element_name:"getHybridApiList"}),x.exec_asyn("Other","getHybridApiList",{},e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){ft(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){ft(n,e)}}}};function ft(n,e,i,t){e({approveApiList:["App.setTitleBar","App.openBrowser","App.jumpToSubApp","App.jumpToNativeView","App.exitSubApp","Device.getNetworkInfo","Device.takePhoto","LBS.getLocation","LBS.showMap","Native.showToast","Other.getHybridApiList","Other.share","Payment.pay","Security.aesEncrypt","Security.aesDecrypt","Security.rsaEncrypt","Security.md5","Storage.getValue","Storage.setValue","Storage.deleteValue","System.chooseAlbum","User.getProductNo","User.getRegion","User.getSessionKey","User.getStarLevel","User.getName","User.getSex","User.getNickname","User.getRealNameStatus","User.getAvatar","User.getOperator","User.getOpenID","User.autoLogin","Util.httpRequests","Util.loadJs"]})}var gt=c(),yt={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:gt.__config__.appid||"",channel:"Other",element_name:"showQRCode"}),x.exec_asyn("Other","showQRCode",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){_t(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){_t(n,e,i)}}}};function _t(n,e,i,t){QRCode.toDataURL(n.text,{errorCorrectionLevel:"H",margin:0,width:n.width||128,color:{dark:n.color,light:"#ffffff"}},(function(n,t){if(n&&i&&i(),e){var a={data:t.replace("data:image/png;base64,","")};e(a)}}))}var ht=c(),wt={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:ht.__config__.appid||"",channel:"Other",element_name:"shareImg"}),x.exec_asyn("Other","shareImg",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("App","shareImg",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},vt=c(),St={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:vt.__config__.appid||"",channel:"Other",element_name:"antiMoneyLaunder"}),x.exec_asyn("Other","antiMoneyLaunder",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){e(n)}},Browser:{initial:function(){},run:function(n,e,i,t){e(n)}}}},At=c(),xt={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:At.__config__.appid||"",channel:"Other",element_name:"creatBestCommand"}),x.exec_asyn("Other","creatBestCommand",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Bt=c(),bt={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Bt.__config__.appid||"",channel:"Other",element_name:"generateShortLinks"}),x.exec_asyn("Other","generateShortLinks",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Ct=o(),It=c(),Nt={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){var a=n.file;It.APP.openBrowser({url:Ct.h5Url+"/common/pdfjs-2.3.200-dist/web/viewer.html?file="+a,inBrowser:!1,limited:!0})}},Weixin:{initial:function(){},run:function(n,e,i,t){Et(n)}},Browser:{initial:function(){},run:function(n,e,i,t){Et(n)}}}};function Et(n,e,i,t){var a=n.file;location.href=window.h5Url+"/common/pdfjs-2.3.200-dist/web/viewer.html?file="+a}var kt=c(),Rt={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:kt.__config__.appid||"",channel:"Other",element_name:"actionSheet"}),x.exec_asyn("Other","actionSheet",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Pt=c(),Ut={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Pt.__config__.appid||"",channel:"Other",element_name:"queryOpenId"}),x.exec_asyn("Other","queryOpenId",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Tt=c(),Lt=!1;function Wt(n,e){return function(i,t,a,o){var r=arguments,c=this;if("App"==Tt.ENV)"2.0"==Tt.HYBRID_VERSION&&n.run[Tt.ENV].degradeRun?n.run[Tt.ENV].degradeRun.apply(this,arguments):n.run[Tt.ENV].run.apply(this,arguments);else if(!Lt&&e){var u={id:"qrcodeScript",url:"https://h5.bestpay.cn/common/js/qrcode.min.js"};Tt.Util.loadJs(u,(function(){Lt=!0,n.run[Tt.ENV].run.apply(c,r)}))}else n.run[Tt.ENV].run.apply(this,arguments)}}var Vt={share:Wt(pt),getHybridApiList:Wt(mt),showQRCode:Wt(yt,!0),shareImg:Wt(wt),antiMoneyLaunder:Wt(St),creatBestCommand:Wt(xt),generateShortLinks:Wt(bt),previewPDF:Wt(Nt),actionSheet:Wt(Rt),queryOpenId:Wt(Ut)},Dt={};for(var Ot in Vt)r(Dt,Vt,Ot);var Kt=c(),Ft={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Kt.__config__.appid||"",channel:"Device",element_name:"takePhoto"}),x.exec_asyn("Device","takePhoto",n,e,i,t)},degradeRun:function(n,e,i,t){var a={dataType:n.dataType,imageFormat:n.imageFormat,quality:n.quality,maxWidth:n.maxWidth,maxHeight:n.maxHeight,enableAlbum:!1,enableCamera:!0,allowEdit:n.allowEdit};x.exec_asyn("Camera","chooseImage",a,(function(n){e({data:JSON.stringify(n)})}),i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){Mt(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){Mt(n,e)}}}};function Mt(n,e,i,t){if(window.getBase64=function(){var i=new FileReader,t=document.getElementById("uploadFile_album").files[0];i.readAsDataURL(t),i.onload=function(i){var t,a,o;this.result.split(",")[1],t=this.result,(o=new Image).src=t,o.onload=function(){var i=document.createElement("canvas");i.width=o.width,i.height=o.height,i.getContext("2d").drawImage(o,0,0,o.width,o.height);var t=n.quality/100;a=i.toDataURL("image/jpeg",t),document.getElementById("fileInput").parentNode.removeChild(document.getElementById("fileInput"));var r={data:a.split(",")[1]};e(r)}}},!document.getElementById("fileInput")){var a=document.createElement("div");a.id="fileInput",a.innerHTML="<input type='file' id='uploadFile_album' style='display:none;' accept = 'image/*' onchange='getBase64()'></input>",document.body.appendChild(a)}document.getElementById("uploadFile_album").click()}var Ht=c(),Jt={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ht.__config__.appid||"",channel:"Device",element_name:"getNetworkInfo"}),x.exec_asyn("Device","getNetworkInfo",{},e,i,t)},degradeRun:function(n,e,i,t){e({type:x.NativeExecute.callNativeSync("App","getNetworkType",{}),"signal Strength":""})}},Weixin:{initial:function(){},run:function(n,e,i,t){wx.getNetworkType({success:function(n){if(e){var i={type:n.networkType,signalStrength:""};e(i)}}})}},Browser:{initial:function(){},run:function(n,e,i,t){navigator.connection.effectiveType?e&&e({type:navigator.connection.effectiveType,signalStrength:""}):i()}}}},zt=c(),jt={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:zt.__config__.appid||"",channel:"Device",element_name:"OCR"}),x.exec_asyn("Device","OCR",n,e,i,t)},degradeRun:function(n,e,i,t){var a={params:n};x.exec_asyn("Scanner","scan",a,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){qt(n,e,i,t);var a=["qrCode","barCode"];"qrCode"==n.type?a=["qrCode"]:"barCode"==n.type&&(a=["barCode"]),wx.scanQRCode({needResult:1,scanType:a,success:function(n){if(e){var i={data:n.resultStr};e(i)}}})}},Browser:{initial:function(){},run:function(n,e,i,t){qt(n,e,i,t)}}}};function qt(n,e,i,t){window.ocrSuccessCallback=e||null,window.ocrFailCallback=i||null,window.ocrCancelCallback=t||null;var a=document.documentElement.style.fontSize,o=document.documentElement.getAttribute("data-dpr");if("idCard"===n.type)zt.Iframe.createIframe(window.h5Url+"/subapps/h5login/index.html#/Photograph?isFrame=true&productNo="+n.args.productNo+"&sessionKey="+n.args.sessionKey+"&appType="+n.args.appType+"&appId="+n.args.appId+"&subAppType="+n.args.subAppType+"&type="+n.type+"&rootFontSize="+a+"&rootDpr="+o+"&parentUrl="+encodeURI(window.location.host),"ocrFrame")}var Gt=c(),Qt={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Gt.__config__.appid||"",channel:"Device",element_name:"faceDetect"}),x.exec_asyn("Device","faceDetect",n,e,i,t)},degradeRun:function(n,e,i,t){var a={params:n};x.exec_asyn("Security","faceCollect",a,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Yt=c(),Xt={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Yt.__config__.appid||"",channel:"Device",element_name:"getNFCInfo"}),x.exec_asyn("Device","getNFCInfo",{},e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Zt=c(),$t={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Zt.__config__.appid||"",channel:"Device",element_name:"setNFCAdpu"}),x.exec_asyn("Device","setNFCAdpu",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},na=c(),ea={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:na.__config__.appid||"",channel:"Device",element_name:"screenBrightness"}),x.exec_asyn("Device","screenBrightness",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},ia=c(),ta={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:ia.__config__.appid||"",channel:"Device",element_name:"bluetoothUnlock"}),x.exec_asyn("Device","bluetoothUnlock",{},e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},aa=c(),oa={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:aa.__config__.appid||"",channel:"Device",element_name:"getTerminalInfo"}),x.exec_asyn("Device","getTerminalInfo",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},ra=c(),ca={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:ra.__config__.appid||"",channel:"Device",element_name:"createShortCuts"}),x.exec_asyn("Device","createShortCuts",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},ua=c(),la={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:ua.__config__.appid||"",channel:"Device",element_name:"faceVideoDetect"}),x.exec_asyn("Device","faceVideoDetect",n,e,i,t)},degradeRun:function(n,e,i,t){var a={params:n};x.exec_asyn("Security","faceCollect",a,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},sa=c(),pa={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:sa.__config__.appid||"",channel:"Device",element_name:"getOAID"}),x.exec_asyn("Device","getOAID",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},da=c(),ma={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:da.__config__.appid||"",channel:"Device",element_name:"getBarHeight"}),x.exec_asyn("Device","getBarHeight",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},fa=c(),ga={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:fa.__config__.appid||"",channel:"Device",element_name:"fingerprintPay"}),x.exec_asyn("Device","fingerPrintPay",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},ya={takePhoto:I(Ft),getNetworkInfo:I(Jt),OCR:I(jt),faceDetect:I(Qt),getNFCInfo:I(Xt),setNFCAdpu:I($t),screenBrightness:I(ea),bluetoothUnlock:I(ta),getTerminalInfo:I(oa),createShortCuts:I(ca),faceVideoDetect:I(la),getOAID:I(pa),getBarHeight:I(ma),fingerPrintPay:I(ga)},_a=c(),ha={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:_a.__config__.appid||"",channel:"System",element_name:"chooseAlbum"}),x.exec_asyn("System","chooseAlbum",n,e,i,t)},degradeRun:function(n,e,i,t){var a={dataType:n.dataType,imageFormat:n.imageFormat,quality:n.quality,maxWidth:n.maxWidth,maxHeight:n.maxHeight,maxFileSize:n.maxFileSize,enableAlbum:!0,enableCamera:!1,allowEdit:n.allowEdit,newAbility:n.newAbility};JSON.stringify(a),x.exec_asyn("Camera","chooseImage",a,(function(n){e({data:n})}),i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){if(window.getBase64=function(){var i=new FileReader,t=document.getElementById("uploadFile_album").files[0];i.readAsDataURL(t),i.onload=function(i){var t,a,o;this.result.split(",")[1],t=this.result,(o=new Image).src=t,o.onload=function(){var i=document.createElement("canvas");i.width=o.width,i.height=o.height,i.getContext("2d").drawImage(o,0,0,o.width,o.height);var t=n.quality/100;a=i.toDataURL("image/jpeg",t),document.getElementById("fileInput").parentNode.removeChild(document.getElementById("fileInput"));var r={data:a.split(",")[1]};e(r)}}},!document.getElementById("fileInput")){var a=document.createElement("div");a.id="fileInput",a.innerHTML="<input type='file' id='uploadFile_album' style='display:none;' accept = 'image/*' onchange='getBase64()'></input>",document.body.appendChild(a)}document.getElementById("uploadFile_album").click()}},Browser:{initial:function(){},run:function(n,e,i,t){if(window.getBase64=function(){var i=new FileReader,t=document.getElementById("uploadFile_album").files[0];i.readAsDataURL(t),i.onload=function(i){var t,a,o;this.result.split(",")[1],t=this.result,(o=new Image).src=t,o.onload=function(){var i=document.createElement("canvas");i.width=o.width,i.height=o.height,i.getContext("2d").drawImage(o,0,0,o.width,o.height);var t=n.quality/100;a=i.toDataURL("image/jpeg",t),document.getElementById("fileInput").parentNode.removeChild(document.getElementById("fileInput"));var r={data:a.split(",")[1]};e(r)}}},!document.getElementById("fileInput")){var a=document.createElement("div");a.id="fileInput",a.innerHTML="<input type='file' id='uploadFile_album' style='display:none;' accept = 'image/gif,image/png,image/jpg,image/tiff,image/x-ms-bmp,image/x-portablebitmap,image/x-portable-greymap,image/x-portable-pixmap,image/x-rgb,image/x-photo-cd' onchange='getBase64()'></input>",document.body.appendChild(a)}document.getElementById("uploadFile_album").click()}}}},wa=c(),va={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:wa.__config__.appid||"",channel:"System",element_name:"getLanguage"}),x.exec_asyn("System","getLanguage",{},e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){Sa(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){Sa(n,e)}}}};function Sa(n,e,i,t){var a=navigator.language;e({language:a="zh-CN"==a?"zh":"en-US"==a?"en":"others"})}var Aa=c(),xa={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Aa.__config__.appid||"",channel:"System",element_name:"clearWebviewCache"}),x.exec_asyn("System","clearWebviewCache",{},e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Ba=c(),ba={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ba.__config__.appid||"",channel:"System",element_name:"getClipboardContent"}),x.exec_asyn("System","getClipboardContent",{},e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Ca=c(),Ia={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ca.__config__.appid||"",channel:"System",element_name:"setClipboardContent"}),x.exec_asyn("System","setClipboardContent",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Na=c(),Ea={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Na.__config__.appid||"",channel:"System",element_name:"checkUpdate"}),x.exec_asyn("System","checkUpdate",{},e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},ka=c(),Ra={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:ka.__config__.appid||"",channel:"System",element_name:"takeScreenshot"}),x.exec_asyn("System","takeScreenshot",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Pa=c(),Ua={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Pa.__config__.appid||"",channel:"System",element_name:"systemNotice"}),x.exec_asyn("System","systemNotice",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Ta=c(),La={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ta.__config__.appid||"",channel:"System",element_name:"checkPermission"}),x.exec_asyn("System","checkPermission",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Wa=c(),Va={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Wa.__config__.appid||"",channel:"System",element_name:"noticeDialog"}),x.exec_asyn("System","noticeDialog",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Da=c(),Oa={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Da.__config__.appid||"",channel:"System",element_name:"imagesPicker"}),x.exec_asyn("System","imagesPicker",n,e,i,t)},degradeRun:function(n,e,i,t){var a={maxWidth:n.maxWidth,maxHeight:n.maxHeight,maxImages:n.maxImages};JSON.stringify(a),x.exec_asyn("Camera","chooseImage",a,(function(n){e({data:n})}),i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){if(window.getBase64=function(){var i=new FileReader,t=document.getElementById("uploadFile_album").files[0];i.readAsDataURL(t),i.onload=function(i){var t,a,o;this.result.split(",")[1],t=this.result,(o=new Image).src=t,o.onload=function(){var i=document.createElement("canvas");i.width=o.width,i.height=o.height,i.getContext("2d").drawImage(o,0,0,o.width,o.height);var t=n.quality/100;a=i.toDataURL("image/jpeg",t),document.getElementById("fileInput").parentNode.removeChild(document.getElementById("fileInput"));var r={data:a.split(",")[1]};e(r)}}},!document.getElementById("fileInput")){var a=document.createElement("div");a.id="fileInput",a.innerHTML="<input type='file' id='uploadFile_album' style='display:none;' accept = 'image/*' onchange='getBase64()'></input>",document.body.appendChild(a)}document.getElementById("uploadFile_album").click()}},Browser:{initial:function(){},run:function(n,e,i,t){if(window.getBase64=function(){var i=new FileReader,t=document.getElementById("uploadFile_album").files[0];i.readAsDataURL(t),i.onload=function(i){var t,a,o;this.result.split(",")[1],t=this.result,(o=new Image).src=t,o.onload=function(){var i=document.createElement("canvas");i.width=o.width,i.height=o.height,i.getContext("2d").drawImage(o,0,0,o.width,o.height);var t=n.quality/100;a=i.toDataURL("image/jpeg",t),document.getElementById("fileInput").parentNode.removeChild(document.getElementById("fileInput"));var r={data:a.split(",")[1]};e(r)}}},!document.getElementById("fileInput")){var a=document.createElement("div");a.id="fileInput",a.innerHTML="<input type='file' id='uploadFile_album' style='display:none;' accept = 'image/gif,image/png,image/jpg,image/tiff,image/x-ms-bmp,image/x-portablebitmap,image/x-portable-greymap,image/x-portable-pixmap,image/x-rgb,image/x-photo-cd' onchange='getBase64()'></input>",document.body.appendChild(a)}document.getElementById("uploadFile_album").click()}}}},Ka=c(),Fa={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ka.__config__.appid||"",channel:"System",element_name:"recordVideo"}),x.exec_asyn("System","recordVideo",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Ma={chooseAlbum:I(ha),getLanguage:I(va),clearWebviewCache:I(xa),getClipboardContent:I(ba),setClipboardContent:I(Ia),checkUpdate:I(Ea),takeScreenshot:I(Ra),systemNotice:I(Ua),checkPermission:I(La),noticeDialog:I(Va),imagesPicker:I(Oa),recordVideo:I(Fa)},Ha=c(),Ja={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ha.__config__.appid||"",channel:"Security",element_name:"aesEncrypt"}),x.exec_asyn("Security","aesEncrypt",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){za(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){za(n,e)}}}};function za(n,e,i,t){"keyLength"in n?GibberishAES.size(n.keyLength):GibberishAES.size(128),e({data:GibberishAES.aesEncrypt(n.string,n.key)})}var ja=c(),qa={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:ja.__config__.appid||"",channel:"Security",element_name:"aesDecrypt"}),x.exec_asyn("Security","aesDecrypt",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){Ga(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){Ga(n,e)}}}};function Ga(n,e,i,t){e({data:GibberishAES.aesDecrypt(n.string,n.key)})}c();var Qa={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){}},Weixin:{initial:function(){},run:function(n,e,i,t){Ya(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){Ya(n,e)}}}};function Ya(n,e,i,t){var a=new JSEncrypt;a.setPublicKey(n.key),e({data:a.encrypt(n.string)})}var Xa=c(),Za={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Xa.__config__.appid||"",channel:"Security",element_name:"md5"}),x.exec_asyn("Security","md5",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){$a(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){$a(n,e)}}}};function $a(n,e,i,t){var a=CryptoJS.MD5(n.string).toString();(16==n.len&&(a=a.slice(8,-8)),e)&&e({data:a})}var no=c(),eo={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:no.__config__.appid||"",channel:"Security",element_name:"openPlatformEncrypt"}),x.exec_asyn("Security","openPlatformEncrypt",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("Security","methodApiEncrypt",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){io(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){io(n,e)}}}};function io(n,e,i,t){var a=function(){for(var n="",e=0;e<32;e++){n+=Math.floor(10*Math.random())}return n}(),o="",r={nihao:"",nimenhao:"",zaijian:""},c={requestType:"H5",productNo:"18616259093",agreeId:window.agreeId};no.Util.httpRequests("post",window.mapiUrl+"/gapi/mapi-gateway/applyLoginFactor",c,(function(i){no.Security.rsaEncrypt({string:a,key:i.result.nonce},(function(i){r.zaijian=i.data;var t={string:n.data,key:a};no.Security.aesEncrypt(t,(function(i){o=i.data,r.nihao=o,no.Security.md5({len:"16",string:n.data},(function(n){r.nimenhao=n.data,e(r)}))}))}))}),(function(n){}))}var to=c(),ao={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:to.__config__.appid||"",channel:"Security",element_name:"desEncrypt"}),x.exec_asyn("Security","desEncrypt",{},e,i,t)},degradeRun:function(n,e,i,t){var a={source:n.string};e({data:x.NativeExecute.callNativeSync("Security","encrypt",a)})}},Weixin:{initial:function(){},run:function(n,e,i,t){oo(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){oo(n,e)}}}};function oo(n,e,i,t){var a=CryptoJS.enc.Utf8.parse(n.key);e({data:CryptoJS.DES.encrypt(n.string,a,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7}).toString()})}var ro=c(),co={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:ro.__config__.appid||"",channel:"Security",element_name:"openPlatformDecrypt"}),x.exec_asyn("Security","openPlatformDecrypt",{},e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},uo=c(),lo={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:uo.__config__.appid||"",channel:"Security",element_name:"desDecrypt"}),x.exec_asyn("Security","desDecrypt",n,e,i,t)},degradeRun:function(n,e,i,t){var a={encryptedData:n.string};x.NativeExecute.callNativeSync("App","desDecrypt",a),e({data:data})}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},so=c(),po={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:so.__config__.appid||"",channel:"Security",element_name:"openKeyboard"}),x.exec_asyn("Security","openKeyboard",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("App","openSafeKeyBoard",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},mo=c(),fo={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:mo.__config__.appid||"",channel:"Security",element_name:"deviceInfo"}),x.exec_asyn("Security","deviceInfo",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},go=c(),yo={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:go.__config__.appid||"",channel:"Security",element_name:"installmentEncrypt"}),x.exec_asyn("Security","installmentEncrypt",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},_o=c(),ho={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:_o.__config__.appid||"",channel:"Security",element_name:"customizedEncrypt"}),x.exec_asyn("Security","customizedEncrypt",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},wo=c(),vo={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){}},Weixin:{initial:function(){},run:function(n,e,i,t){So(n,e,i)}},Browser:{initial:function(){},run:function(n,e,i,t){So(n,e,i)}}}};function So(n,e,i,t){var a={productNo:n.productNo,requestType:"H5",agreeId:window.agreeId},o=window.mapiUrl+"/gapi/mapi-gateway/applyLoginFactor";wo.Util.httpRequests("post",o,a,(function(i){var t,a=i.result.nonce,o=function(){for(var n="",e=0;e<16;e++)n+=Math.floor(10*Math.random());return n}(),r=function(n,e){var i=new JSEncrypt;return i.setPublicKey(n),i.encrypt(e)}(a,o),c=function(n,e){return GibberishAES.size(128),GibberishAES.aesEncrypt(n,e)}(n.paramStr,o).replace(/\n/g,""),u={data:c,key:r,sign:(t=n.paramStr,CryptoJS.MD5(t).toString().toUpperCase()),productNo:n.productNo,encyType:"C005"};e(u)}),(function(n){i(n)}),!0)}var Ao=o(),xo=c(),Bo={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){}},Weixin:{initial:function(){},run:function(n,e,i,t){bo(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){bo(n,e)}}}};function bo(n,e,i,t){var a="";function o(n){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(n)}function r(n){var e,i="",t=0,a=0;for(e=0;e<n.length&&"="!==n.charAt(e);++e){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(n.charAt(e));r<0||(0===t?(i+=o(r>>2),a=3&r,t=1):1===t?(i+=o(a<<2|r>>4),a=15&r,t=2):2===t?(i+=o(a),i+=o(r>>2),a=3&r,t=3):(i+=o(a<<2|r>>4),i+=o(15&r),t=0))}return 1===t&&(i+=o(a<<2)),i}a="autoLogin"===n.type?Ao.businessAgreeId:Ao.agreeId,JSEncrypt.prototype.decryptLong=function(n){var e=this.getKey(),i=e.n.bitLength()+7>>3;try{var t=r(n),a="";return t.length>i?(t.match(/.{1,256}/g).forEach((function(n){var i=e.decrypt(n);a+=i})),a):e.decrypt(r(n))}catch(n){return!1}};var c,u,l,s,p={serverRsaPublicKey:"",clientKey:"",aesKey:""};c=function(i){p.clientKey=function(){var n=new JSEncrypt,e={};return e.clientRsaPrivateKey=n.getPrivateKeyB64(),e.clientRsaPublicKey=n.getPublicKeyB64(),e}();var t={openId:n.openId,clientRsaPublicKey:p.clientKey.clientRsaPublicKey},a=new JSEncrypt;p.serverRsaPublicKey=i.result,a.setPublicKey(i.result);for(var o=a.encrypt(JSON.stringify(t));/==$/.test(o);)o=a.encrypt(JSON.stringify(t));!function(n,e,i){var t=Ao.mapiUrl+"/gapi/mapi-gateway/auth/getAesKey",a={encData:n,agreeId:Ao.agreeId};xo.Util.httpRequests("post",t,a,(function(n){e(n)}),(function(n){i(n)}))}(o,(function(i){if(i.success){var t=new JSEncrypt;t.setPrivateKey(p.clientKey.clientRsaPrivateKey);var a=JSON.parse(t.decryptLong(i.result));if(t.setPublicKey(p.serverRsaPublicKey),t.verify(p.clientKey.clientRsaPublicKey,a.clientRsaPublicKeySign,CryptoJS.SHA512)){p.aesKey=a.aesKey,GibberishAES.size(256);var o=GibberishAES.aesEncrypt(n.text,p.aesKey);t.setPrivateKey(p.clientKey.clientRsaPrivateKey);var r=t.sign(p.aesKey,CryptoJS.SHA512,"sha512"),c={aesKey:p.aesKey,param:{openId:n.openId,encyType:"C006",aesKeySign:r,encData:o}};e(c)}}}),(function(){}))},u=function(){},l=Ao.mapiUrl+"/gapi/mapi-gateway/auth/getPublicKey",s={agreeId:a},xo.Util.httpRequests("post",l,s,(function(n){c(n)}),(function(n){u(n)}))}c();var Co={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){}},Weixin:{initial:function(){},run:function(n,e,i,t){var a="";!function(){GibberishAES.size(256);var i=GibberishAES.aesDecrypt(n,a);e(i)}()}},Browser:{initial:function(){},run:function(n,e,i,t){!function(){GibberishAES.size(256);var i=GibberishAES.aesDecrypt(n.result,n.aesKey);e(i)}()}}}},Io=c(),No=!1,Eo=!1;function ko(n){return function(e,i,t,a){var o=arguments,r=this;if("App"==Io.ENV)"2.0"==Io.HYBRID_VERSION&&n.run[Io.ENV].degradeRun?n.run[Io.ENV].degradeRun.apply(this,arguments):n.run[Io.ENV].run.apply(this,arguments);else if(Ro(),No)if(Eo)n.run[Io.ENV].run.apply(this,arguments);else{var c={id:"jsSecurityParam",url:"https://h5.bestpay.cn/subapps/h5login/static/jsencrypt.js"};Io.Util.loadJs(c,(function(){Eo=!0,n.run[Io.ENV].run.apply(r,o)}))}else{var u={id:"securityScript",url:"https://h5.bestpay.cn/common/js/Encrypt.min.js"};Io.Util.loadJs(u,(function(){if(No=!0,Eo)n.run[Io.ENV].run.apply(r,o);else{Io.Util.loadJs({id:"jsSecurityParam",url:"https://h5.bestpay.cn/subapps/h5login/static/jsencrypt.js"},(function(){Eo=!0,n.run[Io.ENV].run.apply(r,o)}))}}))}}}function Ro(){for(var n=document.getElementsByTagName("script"),e=[],i=0;i<n.length;i++){var t=n[i].attributes;t.length&&e.push(t)}e.forEach((function(n){var e=n.src?n.src.value:"";"https://h5.bestpay.cn/common/js/Encrypt.min.js"===e&&(No=!0),e.indexOf("jsencrypt.js")>-1&&(Eo=!0)}))}var Po={aesEncrypt:ko(Ja),aesDecrypt:ko(qa),rsaEncrypt:ko(Qa),md5:ko(Za),openPlatformEncrypt:ko(eo),desEncrypt:ko(ao),openPlatformDecrypt:ko(co),customizedEncrypt:ko(ho),desDecrypt:ko(lo),openKeyboard:ko(po),deviceInfo:ko(fo),installmentEncrypt:ko(yo),asnyBuildCAParams:ko(vo),securityEncrypt:ko(Bo),securityDecrypt:ko(Co)},Uo=c(),To={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Uo.__config__.appid||"",channel:"Native",element_name:"showToast"}),x.exec_asyn("Native","showToast",n,e,i,t)},degradeRun:function(n,e,i,t){if(/iP(ad|hone|od)/.test(navigator.userAgent)){var a=Number(n.time),o={text:n.text,duration:a};x.NativeExecute.callNativeSync("Toast","makeText",o)}else{o={text:n.text,duration:a};x.NativeExecute.callNativeSync("Toast","makeText",o)}}},Weixin:{initial:function(){},run:function(n,e,i,t){Lo(n,e)}},Browser:{initial:function(){},run:function(n,e,i,t){Lo(n,e)}}}};function Lo(n,e,i,t){var a=n.time||3e3,o=document.createElement("div");o.id="myToast",o.style.zIndex="9999",o.style.position="fixed",o.style.bottom="20%",o.style.width="100%",o.style.opacity="0",o.style.display="none",o.style.transition="all 0.3s",o.style.textAlign="center",o.style.fontSize="0.4rem",document.body.appendChild(o);var r=null,c=null,u=null;!function(n){null!=c&&(clearTimeout(r),clearTimeout(c),clearTimeout(u));var e=document.getElementById("myToast");e.style.display="block",r=setTimeout((function(){e.style.bottom="25%",e.style.opacity=1,c=setTimeout((function(){e.style.opacity=0,u=setTimeout((function(){e.style.display="none",document.getElementById("myToast").parentNode.removeChild(document.getElementById("myToast"))}),1e3)}),a)}),100),e.innerHTML=n}("<span style='color:#fff;background: rgba(0, 0, 0, 0.6);border-radius: 0.3rem;padding: 0.3rem;text-align: center;margin: 0 auto;'>"+n.text+"</span>"),e&&e({})}var Wo=c(),Vo={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Wo.__config__.appid||"",channel:"Native",element_name:"showDatePicker"}),x.exec_asyn("Native","showDatePicker",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("Dialog","showDatePicker",{},e,i,t)}},Weixin:{initial:function(){},run:function(n,e){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Do=c(),Oo={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){x.exec_asyn("Native","httpDNS",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){var a=n.method||"post",o=n.url,r=n.param,c=n.encryptType;"encrypt"==c?Do.Security.asnyBuildCAParams({productNo:r.productNo,paramStr:JSON.stringify(r)},(function(n){Do.Util.httpRequests(a,o,n,(function(n){var i={};i.message=n,i.code="200",i.status="0",e(i)}),(function(n){var e={};e.message=n,e.status="1",i(e)}),!0)})):"allEncrypt"==c?Do.Security.securityEncrypt({openId:r.productNo,text:JSON.stringify(r)},(function(n){Do.Util.httpRequests(a,o,n.param,(function(i){var t={};t.message=i,t.code="200",t.status="0",t.aesKey=n.aesKey,t.productNo=r.productNo,t.sessionKey=r.sessionKey,e(t)}),(function(n){var e={};e.message=n,e.status="1",i(e)}),!0)})):Do.Util.httpRequests(header,a,o,n,(function(n){var i={};i.message=n,i.code="200",i.status="0",e(i)}),(function(n){var e={};e.message=n,e.status="1",i(e)}),!0)}},Browser:{initial:function(){},run:function(n,e,i,t){var a=n.method||"post",o=n.url,r=n.param,c=n.encryptType;"encrypt"==c?Do.Security.asnyBuildCAParams({productNo:r.productNo,paramStr:JSON.stringify(r)},(function(n){Do.Util.httpRequests(a,o,n,(function(n){var i={};i.message=n,i.code="200",i.status="0",e(i)}),(function(n){var e={};e.message=n,e.status="1",i(e)}),!0)})):"allEncrypt"==c?Do.Security.securityEncrypt({openId:r.productNo,text:JSON.stringify(r)},(function(n){Do.Util.httpRequests(a,o,n.param,(function(i){var t={};t.message=i,t.code="200",t.status="0",t.aesKey=n.aesKey,t.productNo=r.productNo,t.sessionKey=r.sessionKey,e(t)}),(function(n){var e={};e.message=n,e.status="1",i(e)}),!0)})):Do.Util.httpRequests(a,o,r,(function(n){var i={};i.message=n,i.code="200",i.status="0",e(i)}),(function(n){var e={};e.message=n,e.status="1",i(e)}),!0)}}}},Ko={showToast:I(To),showDatePicker:I(Vo),httpDNS:I(Oo)},Fo=c(),Mo={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Fo.__config__.appid||"",channel:"Contacts",element_name:"getSingle"}),x.exec_asyn("Contacts","getSingle",{},e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("Contacts","openContacts",{},e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Ho=c(),Jo={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ho.__config__.appid||"",channel:"Contacts",element_name:"getAll"}),x.exec_asyn("Contacts","getAll",{},e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("Contacts","getContacts",{},e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},zo=c(),jo={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:zo.__config__.appid||"",channel:"Contacts",element_name:"sendSMSCode"}),x.exec_asyn("Contacts","sendSMSCode",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},qo={getSingle:I(Mo),getAll:I(Jo),sendSMSCode:I(jo)};c();var Go={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){},degradeRun:function(n,e,i,t){}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Qo=c(),Yo={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Qo.__config__.appid||"",channel:"Vendor",element_name:"getNFCInfo"}),x.exec_asyn("TapPay","getNFCInfo",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("TapPay","getNFCInfo",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Xo=c(),Zo={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Xo.__config__.appid||"",channel:"Vendor",element_name:"jumpToNFCSetting"}),x.exec_asyn("TapPay","jumpToNFCSetting",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("TapPay","jumpToNFCSetting",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},$o=c(),nr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:$o.__config__.appid||"",channel:"Vendor",element_name:"setActive"}),x.exec_asyn("TapPay","setActive",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("TapPay","setActive",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},er=c(),ir={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:er.__config__.appid||"",channel:"Vendor",element_name:"getActive"}),x.exec_asyn("TapPay","getActive",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("TapPay","getActive",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}};c();var tr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(){},degradeRun:function(){}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}};c();var ar={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(){},degradeRun:function(){}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}};c();var or={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(){},degradeRun:function(){}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}};c();var rr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(){},degradeRun:function(){}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},cr=c(),ur={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:cr.__config__.appid||"",channel:"Vendor",element_name:"ebsOpenStock"}),x.exec_asyn("Vendor","ebsOpenStock",n,e,i,t)},degradeRun:function(){}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},lr=c(),sr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:lr.__config__.appid||"",channel:"Vendor",element_name:"ebsStockLogin"}),x.exec_asyn("Vendor","ebsStockLogin",n,e,i,t)},degradeRun:function(){}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},pr=c(),dr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:pr.__config__.appid||"",channel:"Vendor",element_name:"ebsShowStockMarket"}),x.exec_asyn("Vendor","ebsShowStockMarket",n,e,i,t)},degradeRun:function(){}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},mr=c(),fr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:mr.__config__.appid||"",channel:"Vendor",element_name:"ebsStockDealing"}),x.exec_asyn("Vendor","ebsStockDealing",n,e,i,t)},degradeRun:function(){}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},gr=c(),yr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:gr.__config__.appid||"",channel:"Vendor",element_name:"alipaySDK"}),x.exec_asyn("Alipay","alipaySDK",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("Alipay","alipaySDK",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},_r=c(),hr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:_r.__config__.appid||"",channel:"Vendor",element_name:"JDSDK"}),x.exec_asyn("JD","JDSDK",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},wr=c(),vr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:wr.__config__.appid||"",channel:"Vendor",element_name:"busQrcodeGenerateKey"}),x.exec_asyn("Vendor","busQrcodeGenerateKey",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Sr=c(),Ar={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Sr.__config__.appid||"",channel:"Vendor",element_name:"busQrcodeWriteUserCert"}),x.exec_asyn("Vendor","busQrcodeWriteUserCert",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},xr=c(),Br={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:xr.__config__.appid||"",channel:"Vendor",element_name:"busQrcodeGenerateQR"}),x.exec_asyn("Vendor","busQrcodeGenerateQR",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},br=c(),Cr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:br.__config__.appid||"",channel:"Vendor",element_name:"zxjtSDK"}),x.exec_asyn("Vendor","zxjtSDK",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Ir=c(),Nr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ir.__config__.appid||"",channel:"Vendor",element_name:"orangeStockSDK"}),x.exec_asyn("Vendor","orangeStockSDK",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Er=c(),kr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Er.__config__.appid||"",channel:"Vendor",element_name:"particulateLoan"}),x.exec_asyn("Vendor","particulateLoan",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Rr=c(),Pr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Rr.__config__.appid||"",channel:"Vendor",element_name:"himalayanLogin"}),x.exec_asyn("Vendor","himalayanLogin",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Ur=c(),Tr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Ur.__config__.appid||"",channel:"Vendor",element_name:"jumpToFlushMarket"}),x.exec_asyn("Vendor","jumpToFlushMarket",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Lr=c(),Wr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Lr.__config__.appid||"",channel:"Vendor",element_name:"byteDanceInvoke"}),x.exec_asyn("Vendor","byteDanceInvoke",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Vr=c(),Dr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Vr.__config__.appid||"",channel:"Vendor",element_name:"scanAIQualityInspection"}),x.exec_asyn("Vendor","scanAIQualityInspection",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Or=c(),Kr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Or.__config__.appid||"",channel:"Vendor",element_name:"electronicPay"}),x.exec_asyn("Vendor","electronicPay",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Fr=c(),Mr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Fr.__config__.appid||"",channel:"Vendor",element_name:"forVodSDK"}),x.exec_asyn("Vendor","forVodSDK",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Hr=c(),Jr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Hr.__config__.appid||"",channel:"Vendor",element_name:"videoCallSDK"}),x.exec_asyn("Vendor","videoCallSDK",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},zr=c(),jr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:zr.__config__.appid||"",channel:"Vendor",element_name:"sendWechatMessage"}),x.exec_asyn("Vendor","sendWechatMessage",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},qr=c(),Gr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:qr.__config__.appid||"",channel:"Vendor",element_name:"openZAIDoctorVideo"}),x.exec_asyn("Vendor","openZAIDoctorVideo",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Qr=c(),Yr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Qr.__config__.appid||"",channel:"Vendor",element_name:"getSignatureVerInfo"}),x.exec_asyn("Vendor","getSignatureVerInfo",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("Vendor","getSignatureVerInfo",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},Xr=c(),Zr={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:Xr.__config__.appid||"",channel:"Vendor",element_name:"getPullCodeInfo"}),x.exec_asyn("Vendor","getPullCodeInfo",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("Vendor","getPullCodeInfo",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},$r=c(),nc={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:$r.__config__.appid||"",channel:"Vendor",element_name:"simDigitalIdentity"}),x.exec_asyn("Vendor","simDigitalIdentity",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("Vendor","simDigitalIdentity",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},ec=c(),ic={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:ec.__config__.appid||"",channel:"Vendor",element_name:"openADs"}),x.exec_asyn("Vendor","openADs",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},tc=c(),ac={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:tc.__config__.appid||"",channel:"Vendor",element_name:"uniwalletStartApp"}),x.exec_asyn("Vendor","uniwalletStartApp",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},oc=c(),rc={initial:null,paramRule:{},run:{App:{initial:function(){},run:function(n,e,i,t){l("unapp_misc",{operator_no:oc.__config__.appid||"",channel:"Vendor",element_name:"alipayDeduct"}),x.exec_asyn("Vendor","alipayDeduct",n,e,i,t)},degradeRun:function(n,e,i,t){x.exec_asyn("Vendor","alipayDeduct",n,e,i,t)}},Weixin:{initial:function(){},run:function(n,e,i,t){}},Browser:{initial:function(){},run:function(n,e,i,t){}}}},cc={billQuery:I(Go),ebsOpenStock:I(ur),ebsStockLogin:I(sr),ebsShowStockMarket:I(dr),ebsStockDealing:I(fr),Alipay:{alipaySDK:I(yr)},JD:{JDSDK:I(hr)},TapPay:{getNFCInfo:I(Yo),jumpToNFCSetting:I(Zo),setActive:I(nr),getActive:I(ir),onTouchStart:I(tr),onTouchFinished:I(ar),onTapPaystart:I(or),onTapPayError:I(rr)},busQrcodeGenerateKey:I(vr),busQrcodeWriteUserCert:I(Ar),busQrcodeGenerateQR:I(Br),zxjtSDK:I(Cr),orangeStockSDK:I(Nr),particulateLoan:I(kr),himalayanLogin:I(Pr),jumpToFlushMarket:I(Tr),byteDanceInvoke:I(Wr),scanAIQualityInspection:I(Dr),electronicPay:I(Kr),forVodSDK:I(Mr),videoCallSDK:I(Jr),sendWechatMessage:I(jr),openZAIDoctorVideo:I(Gr),getSignatureVerInfo:I(Yr),getPullCodeInfo:I(Zr),simDigitalIdentity:I(nc),openADs:I(ic),uniwalletStartApp:I(ac),alipayDeduct:I(rc)},uc=o();function lc(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"prod";"prod"===n?(uc.mapiWeUrl="https://mapi-welcome.bestpay.com.cn",uc.mapiUrl="https://mapi-h5.bestpay.com.cn",uc.capiUrl="https://capi.bestpay.com.cn",uc.h5Url="https://h5.bestpay.com.cn",uc.agreeId="20200908030100042739564019713085",uc.kjAgreeId="20200916030100045634361164301333",uc.businessAgreeId="20201016030100056487302393758758"):"pre"===n?(uc.mapiWeUrl="https://mapi-h5-pre.bestpay.com.cn",uc.mapiUrl="https://mapi-h5-pre.bestpay.com.cn",uc.capiUrl="https://capi-pre.bestpay.com.cn",uc.h5Url="https://h5-pre.bestpay.com.cn",uc.agreeId="20200908030100042665195683708999",uc.kjAgreeId="20200916030100045608856402788386",uc.businessAgreeId="20201016030100056481385912729634"):"test"===n?(uc.mapiWeUrl="https://mapi-h5.test.bestpay.net",uc.mapiUrl="https://mapi-h5.test.bestpay.net",uc.capiUrl="https://capi.test.bestpay.net",uc.h5Url="https://h5.test.bestpay.net",uc.agreeId="20200902030100040563148733808673",uc.kjAgreeId="20200914030100044898827898978338",uc.businessAgreeId="20200924030100048536185181569087"):"alpha"===n?(uc.mapiWeUrl="https://mapi-welcome.bestpay.com.cn",uc.mapiUrl="https://mapi-h5.bestpay.com.cn",uc.capiUrl="https://capi.bestpay.com.cn",uc.h5Url="https://h5alpha.bestpay.com.cn",uc.agreeId="20200908030100042739564019713085",uc.kjAgreeId="20200916030100045634361164301333",uc.businessAgreeId="20201016030100056487302393758758"):(uc.mapiWeUrl="https://mapi-h5.test1.bestpay.net",uc.mapiUrl="https://mapi-h5.test1.bestpay.net",uc.capiUrl="https://capi.test1.bestpay.net",uc.h5Url="https://h5.test1.bestpay.net",uc.agreeId="20210719030100156465180052553742",uc.kjAgreeId="",uc.businessAgreeId="20200924030100048536185181569087")}var sc,pc=c(),dc=f(),mc="0.0.13",fc=uc.navigator.userAgent.toLowerCase();"bestpay"==fc.match(/Bestpay/i)||"qiandaola"==fc.match(/Qiandaola/i)||"ruyi"==fc.match(/Ruyi/i)||"orangeloans"==fc.match(/orangeloans/i)||"instalment"==fc.match(/instalment/i)||"orangefinance"==fc.match(/orangefinance/i)?sc="App":"micromessenger"==fc.match(/MicroMessenger/i)?(sc="Weixin",u()):(sc="Browser",u()),pc.ENV=sc,pc.HYBRID_VERSION="hybridversion/3.0"==fc.match(/hybridVersion\/3.0/i)?"3.0":"2.0",dc&&(pc.container="mPaaS"),pc.__config__={},pc.config=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"test";yc({appid:n,debug:e,appType:i,subAppType:t,wxSwitch:a,extendsConfig:o,serverEnv:r})};var gc=!1;function yc(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(gc)console.warn("[JSBridge] already init");else{var e=n.appid,i=void 0===e?0:e,t=n.debug,a=void 0!==t&&t,o=n.appType,c=n.subAppType,u=n.wxSwitch,l=n.extendsConfig,s=void 0===l?{}:l,p=n.serverEnv,d=void 0===p?"prod":p;pc.__config__.appid=i,pc.__config__.debug=a,pc.__config__.wxSwitch=u,pc.__config__.serverEnv=d,o?pc.__config__.appType=o:console.warn("当前未配置appType, 将默认使用通用appType: 45"),c?pc.__config__.subAppType=c:console.warn("当前未配置subAppType, 将默认使用通用subAppType: 4500"),s&&(pc.__config__.getWxJsSDKConfig=!s.cancelWxJsSDKConfig),uc.sessionStorage.setItem("extendsConfig",JSON.stringify(s)),lc(d);var m={};for(var f in m.User=Gn,m.Iframe=ee,m.APP=Qe,m.Payment=Hi,m.LBS=li,m.Storage=tt,m.Util=lt,m.Other=Dt,m.Device=ya,m.System=Ma,m.Security=Po,m.Native=Ko,m.Contacts=qo,m.Vendor=cc,m)r(pc,m,f);b[pc.ENV](),gc=!0,"[BestpayJSBridge] v".concat(mc)}}return pc.init=yc,pc.call=function(){for(var n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];g((function(){var n;(n=AlipayJSBridge).call.apply(n,e)}))},pc.version=mc,n.default=pc,n.getBestpayHtml5=c,n.getGlobalObject=o,Object.defineProperty(n,"__esModule",{value:!0}),n}({});
